---
title: "Glide ã‹ã‚‰ dep ã«ç§»è¡Œã›ã‚ˆ"
emoji: "ğŸ˜€"
type: "tech"
topics: [Go]
published: false
---
ä¹…ã—ã¶ã‚Šã« [glide] ã‚’ä½¿ãŠã†ã¨æœ€æ–°ç‰ˆï¼ˆ[0.13.0](https://github.com/Masterminds/glide/releases/tag/v0.13.0 "Release Release 0.13.0 Â· Masterminds/glide")ï¼‰ã‚’è¦‹ã«è¡Œã£ãŸã‚‰ â€œ**Consider switching to [dep]**â€ ã¨ã‹æ›¸ã„ã¦ã‚ã‚‹ã˜ã‚ƒãªã„ã§ã™ã‹ã€‚

> Glide is used by a great number of projects and will continue to get support for some time. But, the near future is likely in dep.

ã¾ã˜ã™ã‹ã€‚

ã¤ã¾ã‚Šã€Œä¾å­˜é–¢ä¿‚ï¼ˆVendoringï¼‰ç®¡ç†ãƒ„ãƒ¼ãƒ«ã¨ã—ã¦ã¯ [dep] ã‚’æ¨å¥¨ã™ã‚‹ã‘ã©ç§»è¡Œã§ããªã„äººã®ãŸã‚ã«å½“é¢ã¯ã‚µãƒãƒ¼ãƒˆã‚’ç¶šã‘ã‚‹ã‚ˆï¼ˆã§ã‚‚å°†æ¥ã¯åˆ†ã‹ã‚‰ã‚“ï¼‰ã€ã¨ã„ã†è§£é‡ˆã§ã„ã„ã®ã ã‚ã†ã‹ã€‚ã˜ã‚ƒã‚ [dep] ã«ç§»è¡Œã™ã‚‹ã—ã‹ãªã„ã¢ã‚ƒã‚“ã€‚

ã¨ã¯ã„ãˆï¼Œã„ããªã‚Šæœ¬ç•ªç’°å¢ƒã«æŠ•å…¥ã™ã‚‹ã®ã¯æ€–ã„ã®ã§ï¼Œãªã«ã‹é©å½“ãªãƒ†ã‚¹ãƒˆã‚±ãƒ¼ã‚¹ã¯ãªã„ã‹ï¼Œã¨è‡ªåˆ†ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’æ¼ã£ã¦ãŸã‚‰ä¸åº¦ã„ã„ã®ãŒã‚ã‚Šã¾ã—ãŸã€‚

- [spiegel-im-spiegel/pi: Estimate of Pi with Monte Carlo method.](https://github.com/spiegel-im-spiegel/pi)

ã“ã‚Œã¯[ãƒ¢ãƒ³ãƒ†ã‚«ãƒ«ãƒ­æ³•ã§éŠã‚“ã§ãŸ](http://text.baldanders.info/golang/estimate-of-pi/)ã¨ãã«ä½œã£ãŸã‚‚ã®ãªã®ã§ï¼Œæœ€æ‚ªã¶ã£å£Šã‚Œã¦ã‚‚ã„ã„ã®ã§ã‚ã‚‹ã€‚ã§ã¯ç§»è¡Œã‚’å§‹ã‚ã‚ˆã†ã€‚

## [dep] ã®å–å¾—

[dep] ã®ãƒªãƒã‚¸ãƒˆãƒªã¯ go get ã‚³ãƒãƒ³ãƒ‰ã§å–å¾—ã§ãã‚‹ã€‚

```text
$ go get -v github.com/golang/dep
github.com/golang/dep (download)
github.com/golang/dep/vendor/github.com/pkg/errors
github.com/golang/dep/vendor/github.com/Masterminds/semver
github.com/golang/dep/vendor/github.com/armon/go-radix
github.com/golang/dep/vendor/github.com/Masterminds/vcs
github.com/golang/dep/vendor/github.com/boltdb/bolt
github.com/golang/dep/internal/fs
github.com/golang/dep/vendor/github.com/golang/protobuf/proto
github.com/golang/dep/internal/gps/paths
github.com/golang/dep/internal/gps/pkgtree
github.com/golang/dep/vendor/github.com/nightlyone/lockfile
github.com/golang/dep/vendor/github.com/sdboyer/constext
github.com/golang/dep/vendor/github.com/jmank88/nuts
github.com/golang/dep/vendor/golang.org/x/net/context
github.com/golang/dep/vendor/github.com/pelletier/go-buffruneio
github.com/golang/dep/vendor/golang.org/x/sync/errgroup
github.com/golang/dep/vendor/github.com/pelletier/go-toml
github.com/golang/dep/internal/gps/internal/pb
github.com/golang/dep/internal/gps
github.com/golang/dep
```

ã“ã‚Œã‚’ã“ã®ã¾ã¾ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã—ã¦ã‚‚ã„ã„ã®ã ãŒ

```text
$ go install -v github.com/golang/dep/cmd/dep
github.com/golang/dep/vendor/github.com/go-yaml/yaml
github.com/golang/dep/internal/feedback
github.com/golang/dep/internal/importers/base
github.com/golang/dep/internal/importers/godep
github.com/golang/dep/internal/importers/vndr
github.com/golang/dep/internal/importers/gvt
github.com/golang/dep/internal/importers/glide
github.com/golang/dep/internal/importers/govend
github.com/golang/dep/internal/importers
github.com/golang/dep/cmd/dep
```

[ãƒªãƒªãƒ¼ã‚¹ãƒšãƒ¼ã‚¸](https://github.com/golang/dep/releases "Releases Â· golang/dep")ã«ãƒ“ãƒ«ãƒ‰æ¸ˆã¿ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ãŒç½®ã‹ã‚Œã¦ã„ã‚‹ã®ã§ï¼Œã‚ã‚ŠãŒãŸãã“ã‚Œã‚’ä½¿ã‚ã›ã¦ã‚‚ã‚‰ã†ã€‚æœ€æ–°ç‰ˆï¼ˆç¾æ™‚ç‚¹ã§ [v0.3.1](https://github.com/golang/dep/releases/tag/v0.3.1 "Release v0.3.1 Â· golang/dep")ï¼‰ã«ã¯ Windows ç”¨ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ« `dep-windows-amd64` ã‚‚ã‚ã‚‹ã€‚Windows ãƒ¦ãƒ¼ã‚¶ã¯ãªã‚“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‹ã¨æ€ã†ã‹ã‚‚ã—ã‚Œãªã„ãŒï¼Œå®Ÿã¯ã“ã‚Œå®Ÿè¡Œãƒ•ã‚¡ã‚¤ãƒ«ãªã®ã§ï¼Œ `dep.exe` ã«ãƒªãƒãƒ¼ãƒ ã—ã¦ãã®ã¾ã¾ä½¿ãˆã‚‹ã€‚

ä¸€å¿œï¼Œå‹•ä½œç¢ºèªã‚’ã—ã¦ãŠã“ã†ã€‚

```text
$ dep
dep is a tool for managing dependencies for Go projects

Usage: dep <command>

Commands:

  init     Initialize a new project with manifest and lock files
  status   Report the status of the project's dependencies
  ensure   Ensure a dependency is safely vendored in the project
  prune    Prune the vendor tree of unused packages
  version  Show the dep version information

Examples:
  dep init                               set up a new project
  dep ensure                             install the project's dependencies
  dep ensure -update                     update the locked versions of all dependencies
  dep ensure -add github.com/pkg/errors  add a dependency to the project

Use "dep help [command]" for more information about a command.

$ dep version
dep:
 version     : v0.3.1
 build date  : 2017-09-19
 git hash    : 83789e2
 go version  : go1.9
 go compiler : gc
 platform    : windows/amd64
```

## [glide] ã‹ã‚‰ [dep] ã¸ã®ç§»è¡Œ

[spiegel-im-spiegel/pi] ã‚’ãƒ“ãƒ«ãƒ‰å¯èƒ½ãªé©å½“ãªå ´æ‰€ã«ç½®ãã€‚

ã“ã®æ™‚ã® `glide.yaml` ã¯ã“ã‚“ãªæ„Ÿã˜ã«ãªã£ã¦ã„ã‚‹ã€‚

```yaml
package: github.com/spiegel-im-spiegel/pi
import:
- package: github.com/spiegel-im-spiegel/gocli
- package: github.com/spf13/cobra
- package: github.com/pkg/errors
- package: github.com/seehuhn/mt19937
- package: github.com/davidminor/gorand
- package: github.com/davidminor/uint128
```

ã¾ãŸ `glide.lock` ã¯ã“ã‚“ãªæ„Ÿã˜ã€‚

```text
hash: d570123d6231810c51dd17e415673df221fb2dec7ef6ab45cd34093002a87cbb
updated: 2016-11-16T17:28:38.2997832+09:00
imports:
- name: github.com/davidminor/gorand
  version: 189780b8053a44a111339a4248394fd844c1da40
  subpackages:
  - lcg
- name: github.com/davidminor/uint128
  version: 5745f1bf80414e0ad2670e85d6aece8c58031def
- name: github.com/inconshreveable/mousetrap
  version: 76626ae9c91c4f2a10f34cad8ce83ea42c93bb75
- name: github.com/pkg/errors
  version: 248dadf4e9068a0b3e79f02ed0a610d935de5302
- name: github.com/seehuhn/mt19937
  version: 98c0ea580d2f3c5a171acf4d4f15321b72209d08
- name: github.com/spf13/cobra
  version: 6b74a60562f5c1c920299b8f02d153e16f4897fc
- name: github.com/spf13/pflag
  version: 5ccb023bc27df288a957c5e994cd44fd19619465
- name: github.com/spiegel-im-spiegel/gocli
  version: 5929f04fb8e4a19ac29fdf658866f9441f339cd9
testImports: []
```

ã“ã®çŠ¶æ…‹ã§ dep init ã‚’å®Ÿè¡Œã™ã‚‹ã€‚

```text
$ dep init
Importing configuration from glide. These are only initial constraints, and are further refined during the solve process.
Detected glide configuration files...
Converting from glide.yaml and glide.lock...
  Using * as initial constraint for imported dep github.com/spiegel-im-spiegel/gocli
  Trying v0.3.0 (5929f04) as initial lock for imported dep github.com/spiegel-im-spiegel/gocli
  Using * as initial constraint for imported dep github.com/spf13/cobra
  Trying * (6b74a60) as initial lock for imported dep github.com/spf13/cobra
  Using * as initial constraint for imported dep github.com/pkg/errors
  Trying * (248dadf) as initial lock for imported dep github.com/pkg/errors
  Using * as initial constraint for imported dep github.com/seehuhn/mt19937
  Trying master (98c0ea5) as initial lock for imported dep github.com/seehuhn/mt19937
  Using * as initial constraint for imported dep github.com/davidminor/gorand
  Trying * (189780b) as initial lock for imported dep github.com/davidminor/gorand
  Using * as initial constraint for imported dep github.com/davidminor/uint128
  Trying master (5745f1b) as initial lock for imported dep github.com/davidminor/uint128
  Using * as initial constraint for imported dep github.com/inconshreveable/mousetrap
  Trying v1.0 (76626ae) as initial lock for imported dep github.com/inconshreveable/mousetrap
  Using * as initial constraint for imported dep github.com/spf13/pflag
  Trying * (5ccb023) as initial lock for imported dep github.com/spf13/pflag
```

ã“ã‚Œã«ã‚ˆã‚Š `Gopkg.toml` ãŠã‚ˆã³ `Gopkg.lock` ã®2ã¤ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¨ `vendor/` ãƒ•ã‚©ãƒ«ãƒ€ãŒä½œæˆã•ã‚Œã‚‹ã€‚ã“ã®ã†ã¡ [spiegel-im-spiegel/gocli] ã®æœ€æ–°ç‰ˆã¯ v0.4.0 ã ãŒï¼Œ `glide.lock` ã®å†…å®¹ã‚’èª­ã¿å–ã£ã¦ï¼Œã¡ã‚ƒã‚“ã¨ v0.3.0 ã®ã‚‚ã®ã‚’å–ã£ã¦ãã¦ã„ã‚‹ã‚ˆã†ã ã€‚

`Gopkg.toml` ã®å†…å®¹ã¯ä»¥ä¸‹ã®é€šã‚Šã€‚

```toml
[[constraint]]
  name = "github.com/davidminor/gorand"

[[constraint]]
  name = "github.com/pkg/errors"

[[constraint]]
  name = "github.com/seehuhn/mt19937"

[[constraint]]
  name = "github.com/spf13/cobra"

[[constraint]]
  name = "github.com/spiegel-im-spiegel/gocli"
```

`Gopkg.lock` ã®å†…å®¹ã¯ä»¥ä¸‹ã®é€šã‚Šã ã€‚

```toml
[[projects]]
  name = "github.com/davidminor/gorand"
  packages = ["lcg"]
  revision = "189780b8053a44a111339a4248394fd844c1da40"

[[projects]]
  branch = "master"
  name = "github.com/davidminor/uint128"
  packages = ["."]
  revision = "5745f1bf80414e0ad2670e85d6aece8c58031def"

[[projects]]
  name = "github.com/inconshreveable/mousetrap"
  packages = ["."]
  revision = "76626ae9c91c4f2a10f34cad8ce83ea42c93bb75"
  version = "v1.0"

[[projects]]
  name = "github.com/pkg/errors"
  packages = ["."]
  revision = "248dadf4e9068a0b3e79f02ed0a610d935de5302"

[[projects]]
  branch = "master"
  name = "github.com/seehuhn/mt19937"
  packages = ["."]
  revision = "98c0ea580d2f3c5a171acf4d4f15321b72209d08"

[[projects]]
  name = "github.com/spf13/cobra"
  packages = ["."]
  revision = "6b74a60562f5c1c920299b8f02d153e16f4897fc"

[[projects]]
  name = "github.com/spf13/pflag"
  packages = ["."]
  revision = "5ccb023bc27df288a957c5e994cd44fd19619465"

[[projects]]
  name = "github.com/spiegel-im-spiegel/gocli"
  packages = ["."]
  revision = "5929f04fb8e4a19ac29fdf658866f9441f339cd9"
  version = "v0.3.0"

[solve-meta]
  analyzer-name = "dep"
  analyzer-version = 1
  inputs-digest = "4a7cc1799d386351173ccdf8266d22ebe2971ce7ba417395a0b63ca267ea9267"
  solver-name = "gps-cdcl"
  solver-version = 1
```

`glide.lock` ã¨ `Gopkg.lock` ã®å†…å®¹ãŒãã¡ã‚“ã¨ãƒãƒƒãƒã—ã¦ã„ã‚‹ã®ãŒåˆ†ã‹ã‚‹ã¨æ€ã†ã€‚å¿µã®ãŸã‚ status ã‚‚è¦‹ã¦ãŠã“ã†ã€‚

```text
$ dep status
PROJECT                               CONSTRAINT  VERSION        REVISION  LATEST   PKGS USED
github.com/davidminor/gorand          *                          189780b            1
github.com/davidminor/uint128         *           branch master  5745f1b   5745f1b  1
github.com/inconshreveable/mousetrap  *           v1.0           76626ae   76626ae  1
github.com/pkg/errors                 *                          248dadf            1
github.com/seehuhn/mt19937            *           branch master  98c0ea5   98c0ea5  1
github.com/spf13/cobra                *                          6b74a60            1
github.com/spf13/pflag                *                          5ccb023            1
github.com/spiegel-im-spiegel/gocli   *           v0.3.0         5929f04   ce636bb  1
```

ãƒ“ãƒ«ãƒ‰ã‚‚ã¡ã‚ƒã‚“ã¨é€šã‚‹ã€‚

```text
$ go build -v ./...
github.com/spiegel-im-spiegel/pi/vendor/github.com/spiegel-im-spiegel/gocli
github.com/spiegel-im-spiegel/pi/vendor/github.com/spf13/pflag
github.com/spiegel-im-spiegel/pi/vendor/github.com/inconshreveable/mousetrap
github.com/spiegel-im-spiegel/pi/vendor/github.com/davidminor/uint128
github.com/spiegel-im-spiegel/pi/vendor/github.com/seehuhn/mt19937
github.com/spiegel-im-spiegel/pi/vendor/github.com/pkg/errors
github.com/spiegel-im-spiegel/pi/vendor/github.com/davidminor/gorand/lcg
github.com/spiegel-im-spiegel/pi/gencmplx
github.com/spiegel-im-spiegel/pi/qq
github.com/spiegel-im-spiegel/pi/genpi
github.com/spiegel-im-spiegel/pi/plot
github.com/spiegel-im-spiegel/pi/estmt
github.com/spiegel-im-spiegel/pi/vendor/github.com/spf13/cobra
github.com/spiegel-im-spiegel/pi/cmd
github.com/spiegel-im-spiegel/pi
```

ã¨ã„ã†ã‚ã‘ã§ï¼Œ `glide.yaml` ã¨ `glide.lock` ãŒæ­£ã—ã„çŠ¶æ…‹ã§æ®‹ã£ã¦ã„ã‚Œã°å•é¡Œãªã [dep] ã«ç§»è¡Œã§ããã†ã ã€‚

## ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯

- [Big Sky :: golang ã‚ªãƒ•ã‚£ã‚·ãƒ£ãƒ«è¬¹è£½ã®ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ä¾å­˜è§£æ±ºãƒ„ãƒ¼ãƒ«ã€Œdepã€](https://mattn.kaoriya.net/software/lang/go/20170125023240.htm)
- [Goã‚ªãƒ•ã‚£ã‚·ãƒ£ãƒ«ãƒãƒ¼ãƒ ä½œæˆã®ä¾å­˜é–¢ä¿‚ç®¡ç†ãƒ„ãƒ¼ãƒ« dep ã‚’è©¦ã—ã¦ã¿ãŸ ï½œ Developers.IO](https://dev.classmethod.jp/go/dep/)
- [ãã‚ãã‚çœŸé¢ç›®ã« Golang é–‹ç™ºç’°å¢ƒã«ã¤ã„ã¦è€ƒãˆã‚‹ â€” GOPATH æ±šæŸ“å•é¡Œ](https://qiita.com/spiegel-im-spiegel/items/73ebc684b5807277b7e2)
- [Glide ã‹ã‚‰ Dep ã¸ã®ç§»è¡Œã‚’æ¤œè¨ã™ã‚‹ â€” ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°è¨€èª Go | text.Baldanders.info](http://text.baldanders.info/golang/consider-switching-from-glide-to-dep/) : æœ¬è¨˜äº‹ã®æœ€çµ‚ç¨¿ã¯ã“ã¡ã‚‰ã€‚å¤§å¹…è¿½è¨˜ã‚ã‚Š

[Go è¨€èª]: https://golang.org/ "The Go Programming Language"
[glide]: https://github.com/Masterminds/glide "Masterminds/glide"
[dep]: https://github.com/golang/dep "golang/dep: Go dependency management tool"
[cointoss]: https://github.com/spiegel-im-spiegel/cointoss "spiegel-im-spiegel/cointoss: ã‚³ã‚¤ãƒ³ã‚’10å›æŠ•ã’ãŸã¨ãã€è¡¨ã¯ä½•å›å‡ºã‚‹ã ã‚ã†ã€‚"
[spiegel-im-spiegel/pi]: https://github.com/spiegel-im-spiegel/pi "spiegel-im-spiegel/pi: Estimate of Pi with Monte Carlo method."
[spiegel-im-spiegel/gocli]: https://github.com/spiegel-im-spiegel/gocli "spiegel-im-spiegel/gocli: Command line interface"

