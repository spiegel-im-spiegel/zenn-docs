---
title: "æ—¥èƒ½ç ”ã®å•é¡Œã‚’Goè¨€èªã§åŠ›ã¥ãã§è§£ã„ã¦ã¿ãŸ(2018/11)"
emoji: "ğŸ˜€"
type: "tech"
topics: [Go]
published: false
---
[2018å¹´11æœˆã®æ—¥èƒ½ç ”ã®åºƒå‘Šã®å•é¡Œ](https://www.nichinoken.co.jp/shikakumaru/201811_sa)ã‚’åŠ›ã¥ãã§è§£ããƒšãƒ¼ã‚¸ã‚’è¦‹ã‹ã‘ãŸ

- [æ—¥èƒ½ç ”ã®å•é¡Œã‚’è§£ã(2018/11) - Qiita](https://qiita.com/sora410/items/bd349c48e7920e7f2573)
- [æ—¥èƒ½ç ”ã®å•é¡Œã‚’Cã§è§£ã„ã¦ã¿ãŸ(2018/11) - Qiita](https://qiita.com/98hira/items/7a704fa0d1082c2e1190)

ã®ã§ï¼Œç§ã¯ [Go è¨€èª]ã§è§£ã„ã¦ã¿ã‚‹ã€‚

```go
package main

import "fmt"

func Permutations(cards []int) <-chan []int {
	ch := make(chan []int)
	go func() {
		defer close(ch)
		perm(ch, make([]int, 0, len(cards)), cards)
	}()
	return ch
}
func dup(list []int) []int {
	l := make([]int, len(list), cap(list))
	copy(l, list)
	return l
}
func perm(ch chan<- []int, list []int, rest []int) {
	if len(rest) == 0 {
		ch <- dup(list)
		return
	}
	for i, v := range rest {
		restx := dup(rest)
		restx = append(restx[:i], restx[i+1:]...)
		listx := append(list, v)
		perm(ch, listx, restx)
	}

}

func list2num(list []int) int {
	v := 0
	for i, t := len(list)-1, 1; i >= 0; i, t = i-1, t*10 {
		v += list[i] * t
	}
	return v
}
func main() {
	for p := range Permutations([]int{1, 2, 3, 4, 5, 6}) {
		res := true
		for i := 2; i <= 6; i++ {
			if list2num(p[:i])%i != 0 {
				res = false
				break
			}
		}
		if res {
			fmt.Println(list2num(p))
		}
	}
}
```

ã“ã‚Œã§[å•é¡Œãªãå‹•ä½œã™ã‚‹](https://play.golang.org/p/z0fgDhSWzE4)ã€‚

æ¨™æº–ãƒ©ã‚¤ãƒ–ãƒ©ãƒªã«ã¯é †åˆ—ã‚’ç”Ÿæˆã™ã‚‹é–¢æ•°ã¯ãªã„ã— reduce ã®ã‚ˆã†ãªæ°—ã®åˆ©ã„ãŸé«˜éšé–¢æ•°ã‚‚ãªã„ã®ã§ï¼Œã²ãŸã™ã‚‰ for æ–‡ã§å›ã—ã¾ã™ï¼ˆç¬‘ï¼‰

ç‰¹ã« [Go è¨€èª]ã£ã½ã„ãƒˆãƒ”ãƒƒã‚¯ã¯ãªã„ã‘ã©ï¼Œå¼·ã„ã¦æŒ™ã’ã‚‹ãªã‚‰ã€Œé…åˆ—ã¯å€¤ã ã‘ã© slice ã¯é…åˆ—ã¸ã®å‚ç…§ï¼ˆå˜ãªã‚‹ãƒã‚¤ãƒ³ã‚¿ã˜ã‚ƒãªã„ï¼‰ã‚’è¡¨ã™ã€ã¨ã„ã†ã¨ã“ã‚ã ã‚ã†ã‹ã€‚ãªã®ã§ slice ã®è¤‡è£½ã‚’ä½œã‚‹ã®ã« `dup()` é–¢æ•°ã¿ãŸã„ãªã®ã‚’ç”¨æ„ã™ã‚‹å¿…è¦ãŒã‚ã‚‹ã‚ã‘ã§ã™ã­ã€‚

ã‚ã¨ã¯é †åˆ—ã‚’ç”Ÿæˆã™ã‚‹ã®ã« goroutine ã§ã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ»ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚’æ§‹æˆã—ã¦ã„ã‚‹ã“ã¨ã ã‚ã†ã‹ã€‚

## å‚è€ƒ

- [Goè¨€èªã§é †åˆ—çµ„ã¿åˆã‚ã›(Permutations and Combinations) - Qiita](https://qiita.com/kokardy/items/a18b574d548c212e58e6)
- [gitchander/permutation: Simple permutation package for golang](https://github.com/gitchander/permutation)

[Go è¨€èª]: https://golang.org/ "The Go Programming Language"

