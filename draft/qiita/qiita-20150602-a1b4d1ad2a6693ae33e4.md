---
title: "è¡Œæœ«ã®ç©ºç™½ã¯ EditorConfig ã§å§‹æœ«ã—ã¾ã—ã‚‡ã†"
emoji: "ğŸ˜€"
type: "tech"
topics: [ATOM,EditorConfig]
published: false
---
ï¼ˆã“ã®è¨˜äº‹ã¯ [Zenn ã«ç§»è¡Œ](https://zenn.dev/spiegel/articles/20200922-editorconfig)ã—ã¾ã—ãŸã€‚ä»Šå¾Œã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ãªãŠ [ATOM] ã§æ–‡å­—ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã®è‡ªå‹•åˆ¤åˆ¥ã‚’è¡Œã†ãªã‚‰ [auto-encoding](https://atom.io/packages/auto-encoding) ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒãŠã™ã™ã‚ã§ã™ï¼‰

æœ€è¿‘ã¯ä½œæ¥­ã®8å‰²ãã‚‰ã„ã¯ [ATOM] ã§ã¾ã‹ãªãˆã‚‹ã‚ˆã†ã«ãªã£ã¦ï¼Œã ã„ã¶æ‰‹ã«é¦´æŸ“ã‚“ã§ããŸã€‚ã§ï¼Œç›¸å¤‰ã‚ã‚‰ãš[ç§€ä¸¸](http://hide.maruo.co.jp/software/hidemaru.html)ã«ã‚ã£ã¦ [ATOM] ã«ãªã„æ©Ÿèƒ½ã‚’[ã¡ã‚‡ã“ã¡ã‚‡ã“ã¨è£œå®Œ](http://qiita.com/spiegel-im-spiegel/items/3d41d98dacc107d73431)ã—ã¦ã‚‹ã‚“ã ã‘ã©ï¼Œãã®ä¸­ã§ã€Œè¡Œæœ«ã®ç©ºç™½ã‚’å‰Šé™¤ã™ã‚‹ã€ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã¨ã‹ãƒã‚¯ãƒ­ï¼ˆä»–ã®ã‚¨ãƒ‡ã‚£ã‚¿ã­ï¼‰ã¨ã‹ãŒç›®ã«ã¤ãã ã—ãŸã€‚ã¿ã‚“ãªè‹¦åŠ´ã—ã¦ã‚‹ã‚“ã ã­ãƒã€‚

ã§ã‚‚ï¼Œæ˜”ã¯ã¨ã‚‚ã‹ãï¼Œä»Šã¯ [EditorConfig] ã«å¯¾å¿œã—ã¦ã„ã‚‹ã‚¨ãƒ‡ã‚£ã‚¿ãªã‚‰ä½™è¨ˆãªãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚„ãƒã‚¯ãƒ­ãªã©ä¸è¦ã§ã‚ã‚‹ã€‚

-  [EditorConfig]

ãŸã¨ãˆã°çµ±åˆç’°å¢ƒã® IntelliJ IDEA ã¯ãƒã‚¤ãƒ†ã‚£ãƒ–ã« [EditorConfig] ã«å¯¾å¿œã—ã¦ã‚‹ã—ï¼Œãƒ—ãƒ©ã‚°ã‚¤ãƒ³å¯¾å¿œã§ãªã‚‰ Visual Studio ã‚„ NetBeans ã‚‚å¯¾å¿œã—ã¦ã„ã‚‹ã€‚æ™®é€šã®ã‚¨ãƒ‡ã‚£ã‚¿ã§ã‚‚ ATOM ã‚„ Sublime Text ã¯ã‚‚ã¡ã‚ã‚“ï¼Œã¿ã‚“ãªå¤§å¥½ãï¼ˆç§ã¯ä½¿ã‚ãªã„ã‘ã©ï¼‰ Emacs ã‚„ Vim ã‚‚ [EditorConfig] ã«å¯¾å¿œå¯èƒ½ã§ã‚ã‚‹ã€‚ã¤ã¾ã‚Š [EditorConfig] ã‚’ä½¿ã‚ãªã„æ‰‹ã¯ãªã„ã®ã§ã‚ã‚‹ã€‚

## EditorConfig ã«ã‚ˆã‚‹è¨­å®š

[EditorConfig] ã‚’ä½¿ã†ã«ã¯ï¼ˆæ—¢ã«ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ç­‰ã¯å°å…¥æ¸ˆã¿ã§ã‚ã‚‹ã¨ä»®å®šã—ã¦ï¼‰ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆç®¡ç†ä¸‹ã®ãƒˆãƒƒãƒ—ãƒ»ãƒ•ã‚©ãƒ«ãƒ€ã« `.editorconfig` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’è¨­ç½®ã™ã‚‹ã€‚ï¼ˆ[å‰ã«ã‚‚ç´¹ä»‹ã—ãŸ](http://qiita.com/spiegel-im-spiegel/items/3d41d98dacc107d73431)ã‘ã©ï¼‰ç§ã®å ´åˆã¯ã“ã‚“ãªæ„Ÿã˜ã€‚

```test:.editorconfig
root = true

[*]
end_of_line = lf
charset = utf-8
indent_style = tab
indent_size = 4
trim_trailing_whitespace = false
insert_final_newline = false

[*.md]
insert_final_newline = true

[*.{js,java,go,c,cpp,tex}]
trim_trailing_whitespace = true
insert_final_newline = true

[*.{md,c,cpp,tex}]
indent_style = space
indent_size = 4
```

[EditorConfig] ã¯ãƒ•ã‚©ãƒ«ãƒ€ã‚’é¡ã£ã¦ `.editorconfig` ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ¢ã—ï¼Œãƒ•ã‚©ãƒ«ãƒ€ã®ä¸Šã‹ã‚‰é †ç•ªã«è©•ä¾¡ã—ã¦ã„ãã€‚ `root = true` ã®è¨˜è¿°ãŒãªã„ã¨ã©ã“ã¾ã§ã‚‚ä¸Šã®éšå±¤ã«é¡ã£ã¦ã„ãã®ã§ï¼Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã®ãƒˆãƒƒãƒ—ãƒ»ãƒ•ã‚©ãƒ«ãƒ€ã® `.editorconfig` ã«ã¯å¿…ãšã“ã‚Œã‚’è¨˜è¿°ã™ã‚‹ã“ã¨ã€‚

- `[*]` ã¯å¯¾è±¡ã¨ãªã‚‹ãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¦ã„ã‚‹ã€‚ `[*]` ãªã‚‰å…¨ã¦ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒå¯¾è±¡ã§ã‚ã‚‹ã€‚ `[*.{md,c,cpp,tex}]` ã¯æ‹¡å¼µå­ãŒ md, c, cpp, tex ã®ãƒ•ã‚¡ã‚¤ãƒ«ãŒå¯¾è±¡ã¨ãªã‚‹ã€‚
- `end_of_line` ã§ã¯æ”¹è¡Œã‚³ãƒ¼ãƒ‰ã‚’æŒ‡å®šã™ã‚‹ã€‚ `lf`, `cr`, `crlf` ã‹ã‚‰é¸æŠã§ãã‚‹ã€‚
- `indent_style` ã¯ã‚¤ãƒ³ãƒ‡ãƒ³ãƒˆï¼ˆã‚¿ãƒ–ï¼‰ã®ã‚¹ã‚¿ã‚¤ãƒ«ã‚’æŒ‡å®šã™ã‚‹ã€‚ `tab` ã¾ãŸã¯ `space` ã‚’æŒ‡å®šã™ã‚‹ã€‚ `space` ã«ã™ã‚‹ã¨ï¼Œã„ã‚ã‚†ã‚‹ã€Œã‚½ãƒ•ãƒˆã‚¿ãƒ–ã€ã«ãªã‚‹ã€‚
- `indent_size` ã¯ã‚¿ãƒ–ã®å¹…ã‚’æŒ‡å®šã™ã‚‹ã€‚ `indent_style` ã¨ `indent_size` ã¯å¸¸ã«ã‚»ãƒƒãƒˆã§æŒ‡å®šã™ã‚‹ã¨é–“é•ã„ãŒãªã„ã€‚
- `trim_trailing_whitespace` ã‚’ `true` ã«ã™ã‚‹ã¨è¡Œæœ«ã®ç©ºç™½æ–‡å­—ã‚’å‰Šé™¤ã—ã¦ãã‚Œã‚‹ã€‚æ®‹å¿µãªã“ã¨ã« [ATOM] ã®å ´åˆã¯ï¼Œã„ã‚ã‚†ã‚‹ã€Œå…¨è§’ç©ºç™½ã€ã‚’ç©ºç™½æ–‡å­—ã¨è¦‹ãªã—ã¦ãã‚Œãªã„ã€‚ã¾ãå…¨è§’ç©ºç™½ã‚’ç©ºç™½æ–‡å­—ã¨è¦‹ãªã™è¨­è¨ˆã®ã»ã†ãŒå°‘ãªã„ã‘ã©ã€‚
- `insert_final_newline` ã‚’ `true` ã«ã™ã‚‹ã¨ãƒ•ã‚¡ã‚¤ãƒ«ã®æœ«å°¾ãŒæ”¹è¡Œæ–‡å­—ã§ã¯ãªã„å ´åˆã«è£œå®Œã—ã¦ãã‚Œã‚‹ã€‚ã§ã‚‚ã“ã‚Œã£ã¦ä½¿ã„ã©ã“ã‚ãŒé›£ã—ã„ã®ã‚ˆã­ã€‚

## æ–‡å­—ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã«ã¤ã„ã¦æ®‹å¿µãªãŠçŸ¥ã‚‰ã›

`charset` ã§ã¯æ–‡å­—ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’æŒ‡å®šã™ã‚‹ãŒï¼Œæ¨™æº–ã§ã¯ `latin1`, `utf-8`, `utf-8-bom`, `utf-16be`, `utf-16le` ã—ã‹ã‚µãƒãƒ¼ãƒˆã—ã¦ã„ãªã„ã€‚ãã‚Œä»¥å¤–ã®æ–‡å­—ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã¯å®Ÿè£…ä¾å­˜ã¨ã„ã†ã“ã¨ã«ãªã‚‹ã€‚

ã—ã‹ã‚‚ [ATOM] ã®å ´åˆï¼Œãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ–°è¦ä½œæˆã™ã‚‹å ´åˆã«ã“ã®è¨­å®šãŒåŠ¹ã‹ãªã„ã‚ˆã†ã§ï¼ŒãŸã¨ãˆã° [ATOM] å´ã® â€œFile Encodingâ€ ãŒ `shiftjis` ã§  `.editorconfig` ãƒ•ã‚¡ã‚¤ãƒ«å´ãŒ `charset = utf-8` ã®å ´åˆï¼Œæ–°è¦ä½œæˆãƒ•ã‚¡ã‚¤ãƒ«ã¯ `shiftjis` ã«ã‚»ãƒƒãƒˆã•ã‚Œï¼Œãã®ã¾ã¾ä¿å­˜ã•ã‚Œã‚‹ã€‚ã—ã‹ã‚‚æ¬¡ã«ãã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ãå ´åˆã¯ï¼ˆ`.editorconfig` ãƒ•ã‚¡ã‚¤ãƒ«å´ã®è¨­å®šãŒåŠ¹ã„ã¦ã—ã¾ã†ã®ã§ï¼‰ `utf8` ã§é–‹ã„ã¦ã—ã¾ã„ï¼Œçµæœæ´¾æ‰‹ã«æ–‡å­—åŒ–ã‘ã™ã‚‹ï¼ˆ`ctrl-shift-U` ã§æ–‡å­—ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’å¤‰æ›´ã™ã‚Œã°å…ƒã«æˆ»ã‚‹ã‘ã©ï¼‰ã€‚

### ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿æ™‚ã«æ–‡å­—ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’è‡ªå‹•åˆ¤åˆ¥ã™ã‚‹

æ–°è¦ä½œæˆæ™‚ã®åˆæœŸã®æ–‡å­—ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã¯ä»Šã®ã¨ã“ã‚ã©ã†ã—ã‚ˆã†ã‚‚ãªã„ãŒï¼Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã”ã¨ã« â€œFile Encodingâ€ ã‚’å¤‰æ›´ã—ã¦å¯¾å¿œã™ã‚‹ã‹ï¼Œæ–°è¦ä½œæˆãƒ•ã‚¡ã‚¤ãƒ«ãŒé–‹ã„ãŸç›´å¾Œã« `ctrl-shift-U` ã§æ–‡å­—ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã‚’å¤‰æ›´ã™ã‚‹ã“ã¨ã§ä½•ã¨ã‹ãªã‚‹ã ã‚ã†ï¼ˆãƒ€ã‚µã„ã‘ã©ï¼‰ã€‚

ã‚‚ã†ã²ã¨ã¤ã®ç·©å’Œç­–ã¨ã—ã¦ã¯ï¼Œæ—¢å­˜ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿æ™‚ã«æ–‡å­—ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‰ã‚’è‡ªå‹•åˆ¤åˆ¥ã™ã‚‹ã‚ˆã†ã«ã™ã‚‹ã“ã¨ã ã€‚ãŸã ã—ï¼Œã“ã®æ©Ÿèƒ½ã‚’æŒã¤ Package ã¯ä»Šã®ã¨ã“ã‚å­˜åœ¨ã—ãªã„ã‚ˆã†ãªã®ã§è‡ªå‰ã§ä½•ã¨ã‹ã™ã‚‹ã—ã‹ãªã„ã€‚

- [ATOM ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã„ãŸã‚‰è‡ªå‹•æ–‡å­—ã‚³ãƒ¼ãƒ‰åˆ¤å®šã‚’è¡Œã† - Qiita](http://qiita.com/tokudiro/items/bc232c7d36261dc45936)

ã“ã®è¨­å®šã‚’è¡Œã†ã«ã¯ node.js ã®ãƒ•ãƒ«ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ãŒå¿…è¦ã€‚

ï¼ˆLinux ã‚„ Mac ãªäººã¯ä¾å­˜é–¢ä¿‚ã§ node.js ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã‚‹ã¨æ€ã†ã‘ã©ï¼Œ Windows ã§ã¯ [ATOM] ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã«ä¸€éƒ¨æ©Ÿèƒ½ãŒåŒæ¢±ã•ã‚Œã¦ã„ã‚‹ã ã‘ãªã®ã§ï¼ˆã—ã‹ã‚‚ãƒãƒ¼ã‚¸ãƒ§ãƒ³ãŒå¤ã„ï¼‰ï¼Œãƒ•ãƒ«æ©Ÿèƒ½ã‚’ä½¿ã†ã«ã¯åˆ¥é€”ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹å¿…è¦ã‚ã‚Šï¼‰

Windows ã®å ´åˆã¯ `%USERPROFILE%\.atom` ãƒ•ã‚©ãƒ«ãƒ€ã«ç§»å‹•ã™ã‚‹ã€‚ãã®å¾Œï¼Œ `npm` ã‚³ãƒãƒ³ãƒ‰ã‚’ä½¿ã£ã¦ `iconv-lite` ã¨ `jschardet` ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã™ã‚‹ã€‚

```shell
C:>cd C:\Users\username\.atom
C:\Users\username\.atom>>npm install iconv-lite
iconv-lite@0.4.10 node_modules\iconv-lite

C:\Users\username\.atom>>npm install jschardet
jschardet@1.1.1 node_modules\jschardet
```

ã™ã‚‹ã¨ `%USERPROFILE%\.atom\node_modules` ãƒ•ã‚©ãƒ«ãƒ€ãŒä½œæˆã•ã‚Œï¼Œãã®ä¸­ã« `iconv-lite` ã¨ `jschardet` ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¦ã„ã‚‹ã¯ãšã§ã‚ã‚‹ã€‚

æ¬¡ã¯ `%USERPROFILE%\.atom\init.coffee` ãƒ•ã‚¡ã‚¤ãƒ«ã«ä»¥ä¸‹ã®è¨˜è¿°ã‚’è¿½åŠ ã™ã‚‹ã€‚

```coffee:init.coffee
fs = require('fs')

atom.workspace.onDidOpen ->
  editor = atom.workspace.getActiveTextEditor()

  try
    filePath = editor.getPath()
  catch error
    return
  return unless fs.existsSync(filePath)

  jschardet = require 'jschardet'
  iconv = require 'iconv-lite'
  fs.readFile filePath, (error, buffer) =>
    return if error?
    {encoding} = jschardet.detect(buffer) ? {}
    encoding = 'utf8' if encoding is 'ascii'
    return unless iconv.encodingExists(encoding)

    encoding = encoding.toLowerCase().replace(/[^0-9a-z]|:\d{4}$/g, '')
    editor.setEncoding(encoding)
```

ã€Œ[ATOM ã§ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã„ãŸã‚‰è‡ªå‹•æ–‡å­—ã‚³ãƒ¼ãƒ‰åˆ¤å®šã‚’è¡Œã†](http://qiita.com/tokudiro/items/bc232c7d36261dc45936)ã€ã«ã‚ˆã‚‹ã¨ï¼Œã“ã‚Œã¯ [encoding-selector](https://atom.io/packages/encoding-selector) ã‹ã‚‰ã®æµç”¨ã‚‰ã—ã„ã€‚ãŸã ã—ç¾åœ¨ï¼Œ [encoding-selector](https://atom.io/packages/encoding-selector) ã¯ Core Package ã«å…¥ã£ã¦ã‚‹ã®ã§ atom ãƒ•ã‚©ãƒ«ãƒ€ã‚’ã²ã£ãã‚Šè¿”ã—ã¦ã‚‚ã‚½ãƒ¼ã‚¹ã‚³ãƒ¼ãƒ‰ã¯è¦‹å½“ãŸã‚‰ãªã„ã€‚ã®ã§ï¼ŒGitHub ã«ã‚ã‚‹ [atom/encoding-selector](https://github.com/atom/encoding-selector) ã«ã‚ã‚‹ [lib/encoding-list-view.coffee](https://github.com/atom/encoding-selector/blob/master/lib/encoding-list-view.coffee) ã‚’å‚è€ƒã«ã™ã‚‹ã¨ã„ã„ã ã‚ã†ã€‚ `detectEncoding:` ã®ã‚ãŸã‚Šã§ã‚ã‚‹ã€‚

ã“ã‚Œã§ [ATOM] ã‚’èµ·å‹•ã—ã¦æ—¢å®šã®æ–‡å­—ã‚¨ãƒ³ã‚³ãƒ¼ãƒ‡ã‚£ãƒ³ã‚°ã§ãªã„é©å½“ãªãƒ•ã‚¡ã‚¤ãƒ«ã‚’èª­ã¿è¾¼ã¾ã›ã¦ã¿ã‚Œã°ç¢ºèªã§ãã‚‹ã€‚ãŸã ã—ï¼Œè‡ªå‹•åˆ¤åˆ¥ã¯ä¸‡èƒ½ã˜ã‚ƒãªã„ï¼ˆãŸã¾ã«é–“é•ã†ï¼‰ã®ã§ï¼Œãã®è¾ºã¯æ‚ªã—ã‹ã‚‰ãšã£ã¦ã“ã¨ã§ã€‚

ä¸€ç•ªã„ã„ã®ã¯ [encoding-selector](https://atom.io/packages/encoding-selector) ãŒãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿æ™‚ã«è‡ªå‹•åˆ¤åˆ¥ã™ã‚‹æ©Ÿèƒ½ã‚’ä»˜ã‘ã¦ãã‚Œã‚‹ã“ã¨ãªã‚“ã ã‘ã©ã€‚èª°ã‹ã‚„ã‚‰ãªã„ã‹ãªã€‚å€‹äººçš„ã«ã¯ [ATOM] é–‹ç™ºã«ç©æ¥µçš„ã« commit ã™ã‚‹æ°—ã¯ãªã„ã®ã§ï¼Œå®Œå…¨ã«ä»–äººä»»ã›ãªã®ã ãŒã€‚

ã‚ã¨ã¯æ–‡å­—å¤‰æ›ã‹...

## ãƒ–ãƒƒã‚¯ãƒãƒ¼ã‚¯

- [EditorConfig ã§ç°¡å˜ã«ã‚¨ãƒ‡ã‚£ã‚¿ã®è¨­å®šã‚’å…±æœ‰ã™ã‚‹ | ã‚¤ãƒ³ãƒˆãƒ•ãƒ­ãƒ¼ãƒˆ ã‚¹ã‚¿ãƒƒãƒ•ãƒ–ãƒ­ã‚°](http://maruta.be/intfloat_staff/164)
- [EditorConfigã§æ–‡å­—ã‚³ãƒ¼ãƒ‰è¨­å®šã‚’å…±æœ‰ã—ã¦å–§å˜©ã—ãªããªã‚‹è©±ã€‚ï¼ˆFrontrend Advent Calendar 2014 â€“ 14æ—¥ç›®ï¼‰ | Ginpen.com](http://ginpen.com/2014/12/14/editorconfig/)
- [ã©ã‚“ãªã‚¨ãƒ‡ã‚£ã‚¿ã§ã‚‚EditorConfigã‚’ä½¿ã£ã¦ã‚³ãƒ¼ãƒ‰ã®çµ±ä¸€æ€§ã‚’é«˜ã‚ã‚‹ - Qiita](http://qiita.com/naru0504/items/82f09881abaf3f4dc171)

[ATOM]: https://atom.io/ "Atom"
[EditorConfig]: http://editorconfig.org/ "EditorConfig"

