---
title: "Go 1.8.7, 1.9.4, 1.10rc2 ãŒãƒªãƒªãƒ¼ã‚¹ï¼ˆã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ»ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆï¼‰"
emoji: "ğŸ˜€"
type: "tech"
topics: [Go]
published: false
---
ï¼ˆã‚ã¨ã§ãƒ–ãƒ­ã‚°ã§æ›¸ããŸã‚ã®è‰ç¨¿ç‰ˆï¼‰

Go 1.8.7, 1.9.4, 1.10rc2 ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸã€‚è„†å¼±æ€§ [CVE-2018-6574](https://cve.mitre.org/cgi-bin/cvename.cgi?name=2018-6574) ã®ä¿®æ­£ã‚’å«ã‚€ã€‚

- [cmd/go: arbitrary code execution during â€œgo getâ€ Â· Issue #23672 Â· golang/go](https://github.com/golang/go/issues/23672)

cgo å‘¨ã‚Šã®ã‚¤ãƒ³ã‚·ãƒ‡ãƒ³ãƒˆã®ã‚ˆã†ã ã€‚

> When cgo is enabled, the build step during â€œgo getâ€ invokes the host C compiler, gcc or clang, adding compiler flags specified in the Go source files. Both gcc and clang support a plugin mechanism in which a shared-library plugin is loaded into the compiler, as directed by compiler flags. This means that a Go package repository can contain an attack.so file along with a Go source file that says (for example) `// #cgo CFLAGS: -fplugin=attack.so`, causing the attack plugin to be loaded into the host C compiler during the build. Gcc and clang plugins are completely unrestricted in their access to the host system.

ä¿®æ­£å†…å®¹ã¯ä»¥ä¸‹ã®é€šã‚Šã€‚

> The fix changes â€œgo buildâ€ (used during â€œgo getâ€ and â€œgo installâ€) to limit the flags that can appear in Go source file `#cgo` directives to a list of allowed compiler flags; `-fplugin=` and other variants are not on the allowed list. The same restrictions are applied to compiler flags obtained from pkg-config. Flags obtained from the environment variables `$CGO_CFLAGS` and so on are not restricted, since those variables can only be set by the user running the build. To change the set of allowed compiler flags, new environment variables `$CGO_CFLAGS_ALLOW` and `$CGO_CFLAGS_DISALLOW` can set to regular expressions matching additional allowed and disallowed flags.

å½±éŸ¿åº¦ï¼ˆCVSSï¼‰ã«é–¢ã™ã‚‹æƒ…å ±ã¯è¦‹å½“ãŸã‚‰ãªã„ã€‚ãã®ã†ã¡ [Red Hat ã‚ãŸã‚Š](https://access.redhat.com/security/security-updates/ "Red Hat Product Advisories - Red Hat Customer Portal")ã§å‡ºã‚‹ã‹ãªã€‚

