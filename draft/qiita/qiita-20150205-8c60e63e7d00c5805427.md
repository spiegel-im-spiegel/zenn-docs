---
title: "Windows Áâà GnuPG 2.1.x „Çí‰Ωø„Å£„Å¶„Åø„Çã"
emoji: "üòÄ"
type: "tech"
topics: [GnuPG]
published: false
---
[GnuPG]: https://www.gnupg.org/ "GnuPG.org"
[RFC6637]: http://tools.ietf.org/html/rfc6637 "Elliptic Curve Cryptography (ECC) in OpenPGP"
[RFC5639]: http://tools.ietf.org/html/rfc5639 "Elliptic Curve Cryptography (ECC) Brainpool Standard Curves and Curve Generation"
[Brainpool]: http://www.ecc-brainpool.org/ "ECC-Brainpool"
[FIPS PUB 186-4]: http://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.186-4.pdf "Digital Signature Standard (DSS)"
[pgpdump]: http://www.mew.org/~kazu/proj/pgpdump/ "pgpdump"

ÔºàÊäïÁ®ø„ÉÜ„Çπ„Éà„ÄÇÂêå„Åò„ÇÇ„ÅÆ„Çí [Gist „Å´Ë≤º„Å£„Å¶„ÅÇ„Çã](https://gist.github.com/spiegel-im-spiegel/f177c02af04d3b34ade0)Ôºâ

[GnuPG] 2.1.xÔºàmodern versionÔºâ„Åß„ÅØ Windows Áî®„ÅÆ„Éê„Ç§„Éä„É™„ÇÇÂÖ¨Âºè„Çµ„Ç§„Éà„ÅßÊèê‰æõ„Åï„Çå„Å¶„ÅÑ„Çã„ÄÇ

* [GnuPG - Download](https://www.gnupg.org/download/)
* [GnuPG - Manuals](https://www.gnupg.org/documentation/manuals.html)

Modern version „ÅØ [RFC6637] „ÅßÂÆöÁæ©„Åï„Çå„Çã ECCÔºàElliptic Curve Cryptography; Ê•ïÂÜÜÊõ≤Á∑öÊöóÂè∑Ôºâ„Çí„Çµ„Éù„Éº„Éà„Åó„Å¶„ÅÑ„Çã„ÅÆ„ÅßÔºå„Åï„Å£„Åù„ÅèË©¶„Åó„Å¶„Åø„Çã„ÄÇ
„Å°„Å™„Åø„Å´ ECC „ÅÆÂéüÁêÜ„Å´„Å§„ÅÑ„Å¶„ÅØ‰ª•‰∏ã„ÅÆ„Éö„Éº„Ç∏„ÅåÂèÇËÄÉ„Å´„Å™„Çã„ÄÇ

* [ÊöóÂè∑„ÅÆË©± - Ê•ïÂÜÜÊõ≤Á∑öÊöóÂè∑](http://mailsrv.nara-edu.ac.jp/~asait/crypt.htm#section44)

‰ªäÂõû„ÅØ Windows Áâà„Çí‰Ωø„Å£„Åü„Åë„Å©ÔºåÁ´ØÊú´„Åß„Ç≥„Éû„É≥„Éâ„ÇíÂè©„ÅèÂàÜ„Å´„ÅØ„Å©„ÅÆ OS „Åß„ÇÇ‰Ωø„ÅÑÊñπ„ÅØÂêå„Åò„Å†„Å®ÊÄù„ÅÜ„ÅÆ„ÅßÔºå„Çà„Åã„Å£„Åü„ÇâÂèÇËÄÉ„Å´„Å©„ÅÜ„Åû„ÄÇ

## Ê∫ñÂÇô

‰ªäÂõû‰Ωø„Å£„Åü [GnuPG] „ÅÆ„Éê„Éº„Ç∏„Éß„É≥„ÅØ‰ª•‰∏ã„ÅÆÈÄö„Çä„ÄÇ

```shell
C:>gpg --version
gpg (GnuPG) 2.1.1
libgcrypt 1.6.2
Copyright (C) 2014 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Home: ********
Supported algorithms:
Pubkey: RSA, ELG, DSA, ECDH, ECDSA, EDDSA
Cipher: IDEA, 3DES, CAST5, BLOWFISH, AES, AES192, AES256, TWOFISH,
        CAMELLIA128, CAMELLIA192, CAMELLIA256
Hash: SHA1, RIPEMD160, SHA256, SHA384, SHA512, SHA224
Compression: Uncompressed, ZIP, ZLIB, BZIP2
```

„ÅÇ„Å®ÔºåÈçµ„ÇíÁîüÊàê„Åô„Çã„Å´„ÅÇ„Åü„Å£„Å¶„Ç≠„É£„É©„ÇØ„ÇøË®≠ÂÆö„Çí„Åó„Å¶„Åä„Åè„ÄÇ

> Real name: John Doe  
> Email address: john@examle.com  

## ECC Èçµ„ÅÆÁîüÊàê

ÈÄöÂ∏∏ [GnuPG] „ÅßÈçµ„ÇíÁîüÊàê„Åô„ÇãÈöõ„Å´„ÅØ `--gen-key` „Ç™„Éó„Ç∑„Éß„É≥„Çí‰Ωø„ÅÜ„ÅÆ„Å†„ÅåÔºå modern version „Åß„ÅØ `--gen-key` „Ç™„Éó„Ç∑„Éß„É≥„Çí‰Ωø„Å£„ÅüÈçµÁîüÊàêÊâãÈ†Ü„ÅåÂ§ßÂπÖ„Å´Á∞°Áï•Âåñ„Åï„Çå„Å¶„ÅÑ„Å¶ÔºåÂÖ¨ÈñãÈçµÊöóÂè∑„ÅÆ„Ç¢„É´„Ç¥„É™„Ç∫„É†„ÇÇ RSA/2014bits „Å´Âõ∫ÂÆö„Åï„Çå„Å¶„ÅÑ„Çã„ÄÇ

```shell
C:>gpg --gen-key
gpg (GnuPG) 2.1.1; Copyright (C) 2014 Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Note: Use "gpg --full-gen-key" for a full featured key generation dialog.

GnuPG needs to construct a user ID to identify your key.

Real name: John Doe
Email address: john@examle.com
You selected this USER-ID:
    "John Doe <john@examle.com>"

Change (N)ame, (E)mail, or (O)kay/(Q)uit? o
We need to generate a lot of random bytes. It is a good idea to perform
some other action (type on the keyboard, move the mouse, utilize the
disks) during the prime generation; this gives the random number
generator a better chance to gain enough entropy.
We need to generate a lot of random bytes. It is a good idea to perform
some other action (type on the keyboard, move the mouse, utilize the
disks) during the prime generation; this gives the random number
generator a better chance to gain enough entropy.
gpg: key CC0EBA52 marked as ultimately trusted
public and secret key created and signed.

gpg: checking the trustdb
gpg: 3 marginal(s) needed, 1 complete(s) needed, PGP trust model
gpg: depth: 0  valid:   4  signed:   1  trust: 0-, 0q, 0n, 0m, 0f, 4u
gpg: depth: 1  valid:   1  signed:   0  trust: 0-, 0q, 0n, 0m, 1f, 0u
gpg: next trustdb check due at 2015-11-19
pub   rsa2048/CC0EBA52 2015-01-23
      Key fingerprint = CAC7 1FE9 5B3F 5015 B8C6  A2D4 42D8 C73E CC0E BA52
uid       [ultimate] John Doe <john@examle.com>
sub   rsa2048/D479529E 2015-01-23


C:>
```

‰ªñ„ÅÆ„Çø„Ç§„Éó„ÅÆÈçµ„ÇíÁîüÊàê„Åô„ÇãÂ†¥ÂêàÔºå„ÅÇ„Çã„ÅÑ„ÅØÁîüÊàêÊôÇ„Å´Ë©≥Á¥∞„Å™Ë®≠ÂÆö„ÇíË°å„ÅÑ„Åü„ÅÑÂ†¥Âêà„ÅØ `--full-gen-key` „Ç™„Éó„Ç∑„Éß„É≥„Çí‰Ωø„ÅÜ„ÄÇ

```shell
C:>gpg --full-gen-key
gpg (GnuPG) 2.1.1; Copyright (C) 2014 Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Please select what kind of key you want:
   (1) RSA and RSA (default)
   (2) DSA and Elgamal
   (3) DSA (sign only)
   (4) RSA (sign only)
Your selection?
```

ECC Èçµ„ÇíÁîüÊàê„Åó„Åü„ÅÑÂ†¥Âêà„ÅØ `--expert` „Ç™„Éó„Ç∑„Éß„É≥„ÇÇÁµÑ„ÅøÂêà„Çè„Åõ„Çã„ÄÇ

```shell
C:>gpg --full-gen-key --expert
gpg (GnuPG) 2.1.1; Copyright (C) 2014 Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Please select what kind of key you want:
   (1) RSA and RSA (default)
   (2) DSA and Elgamal
   (3) DSA (sign only)
   (4) RSA (sign only)
   (7) DSA (set your own capabilities)
   (8) RSA (set your own capabilities)
   (9) ECC and ECC
  (10) ECC (sign only)
  (11) ECC (set your own capabilities)
Your selection?
```

‰ªäÂõû„ÅØ ECC „ÇíÁîüÊàê„Åó„Åü„ÅÑ„ÅÆ„Åß (9) „ÇíÈÅ∏Êäû„Åô„Çã„ÄÇ
„Åß„ÅØ„Çπ„Çø„Éº„ÉàÔºÅ

```shell
C:>gpg --full-gen-key --expert
gpg (GnuPG) 2.1.1; Copyright (C) 2014 Free Software Foundation, Inc.
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Please select what kind of key you want:
   (1) RSA and RSA (default)
   (2) DSA and Elgamal
   (3) DSA (sign only)
   (4) RSA (sign only)
   (7) DSA (set your own capabilities)
   (8) RSA (set your own capabilities)
   (9) ECC and ECC
  (10) ECC (sign only)
  (11) ECC (set your own capabilities)
Your selection? 9
Please select which elliptic curve you want:
   (2) NIST P-256
   (3) NIST P-384
   (4) NIST P-521
   (5) Brainpool P-256
   (6) Brainpool P-384
   (7) Brainpool P-512
Your selection? 2
Please specify how long the key should be valid.
         0 = key does not expire
      <n>  = key expires in n days
      <n>w = key expires in n weeks
      <n>m = key expires in n months
      <n>y = key expires in n years
Key is valid for? (0) 1w
Key expires at 01/31/15 11:20:43 Êù±‰∫¨ (Ê®ôÊ∫ñÊôÇ)
Is this correct? (y/N) y

GnuPG needs to construct a user ID to identify your key.

Real name: John Doe
Email address: john@examle.com
Comment: forECC
You selected this USER-ID:
    "John Doe (forECC) <john@examle.com>"

Change (N)ame, (C)omment, (E)mail or (O)kay/(Q)uit? o
We need to generate a lot of random bytes. It is a good idea to perform
some other action (type on the keyboard, move the mouse, utilize the
disks) during the prime generation; this gives the random number
generator a better chance to gain enough entropy.
We need to generate a lot of random bytes. It is a good idea to perform
some other action (type on the keyboard, move the mouse, utilize the
disks) during the prime generation; this gives the random number
generator a better chance to gain enough entropy.
gpg: key 5FBBFA18 marked as ultimately trusted
gpg: directory 'C:/pathto/openpgp-revocs.d' created
public and secret key created and signed.

gpg: checking the trustdb
gpg: 3 marginal(s) needed, 1 complete(s) needed, PGP trust model
gpg: Note: signatures using the MD5 algorithm are rejected
gpg: depth: 0  valid:  13  signed:  10  trust: 0-, 0q, 0n, 0m, 0f, 13u
gpg: depth: 1  valid:   8  signed:   4  trust: 4-, 0q, 0n, 3m, 1f, 0u
gpg: next trustdb check due at 2015-01-31
pub   nistp256/5FBBFA18 2015-01-24 [expires: 2015-01-31]
      Key fingerprint = 8B20 19D4 33A7 729E 5BFE  5779 31FB FDA9 5FBB FA18
uid       [ultimate] John Doe (forECC) <john@examle.com>
sub   nistp256/252C4D79 2015-01-24 nistp256 [expires: 2015-01-31]


C:>
```

ÈÄî‰∏≠„Åß„Éë„Çπ„Éï„É¨„Éº„Ç∫„ÇíË®ä„Åã„Çå„ÇãÔºàWindows Áâà„Åß„ÅÇ„Çå„Å∞‰ª•‰∏ã„ÅÆ„Éó„É≠„É≥„Éó„Éà„Åå„Éù„ÉÉ„Éó„Ç¢„ÉÉ„Éó„Åô„ÇãÔºâ„ÅÆ„ÅßÔºåÈÅ©Âàá„Å™„Éë„Çπ„Éï„É¨„Éº„Ç∫„Çí„Çª„ÉÉ„Éà„Åô„Çã„Åì„Å®„ÄÇ
Ôºà„Éë„Çπ„Éï„É¨„Éº„Ç∫„Å´„Å§„ÅÑ„Å¶„ÅØÊãôÊñá„Äå[„Çè„Åã„ÇãÔºÅ OpenPGP ÊöóÂè∑](http://www.baldanders.info/spiegel/archive/pgpdump/openpgp.shtml#passphrase)„Äç„ÇíÂèÇËÄÉ„Å´„Å©„ÅÜ„ÅûÔºâ

![gnupg prompt: enter passphrase](https://farm8.staticflickr.com/7494/16343894042_7b3cc870c9_o.png "gnupg prompt: enter passphrase")

„ÅäË©¶„Åó„Å™„ÅÆ„ÅßÊúâÂäπÊúüÈñì„Çí1ÈÄ±Èñì„Å®„Åó„Åü„ÄÇ

ECC Èçµ„ÅÆÁîüÊàêÊñπÊ≥ï„Å®„Åó„Å¶‰ª•‰∏ã„ÅÆ6„Å§„ÅÆ„Ç™„Éó„Ç∑„Éß„É≥„ÅåÊèêÁ§∫„Åï„Çå„Çã„ÄÇ

```shell
   (2) NIST P-256
   (3) NIST P-384
   (4) NIST P-521
   (5) Brainpool P-256
   (6) Brainpool P-384
   (7) Brainpool P-512
```

`NIST P-xxx` „ÅØ [FIPS PUB 186-4] „ÅßÁ§∫„Åï„Çå„ÇãÊñπÂºè„ÅßÈçµ„ÇíÁîüÊàê„Åó„Å¶„ÅÑ„Çã„ÄÇ
`Brainpool P-xxx` „ÅØ [Brainpool] „Å®Âëº„Å∞„Çå„ÇãÊñπÂºè„ÅßÈçµ„ÇíÁîüÊàê„Åó„Å¶„ÅÑ„ÇãÔºà[Brainpool] „ÅØ [RFC5639] „ÅßÊ®ôÊ∫ñÂåñ„Åï„Çå„Å¶„ÅÑ„ÇãÔºâ„ÄÇ
ÂêÑÊï∞Â≠óÈÉ®ÂàÜ„ÅØÈçµÈï∑„ÇíË°®„Åô„ÄÇ

„Åì„Åì„Åß„ÅØ `NIST P-256` „ÇíÈÅ∏Êäû„Åó„Åü„ÄÇ
ÔºàÈçµÈï∑„ÅÆÈÅ∏Êäû„Å´„Å§„ÅÑ„Å¶„ÅØÊãôÊñá„Äå[„Çè„Åã„ÇãÔºÅ OpenPGP ÊöóÂè∑](http://www.baldanders.info/spiegel/archive/pgpdump/openpgp.shtml#key-size)„Äç„ÇíÂèÇËÄÉ„Å´„Å©„ÅÜ„ÅûÔºâ

„Åï„Å¶ÔºåÁîüÊàê„Åó„Åü ECC „ÅÆÂÖ¨ÈñãÈçµ„Åå„Åì„Å°„Çâ„ÄÇ

```shell
C:>gpg --armor --export john@examle.com
-----BEGIN PGP PUBLIC KEY BLOCK-----
Version: GnuPG v2

mFIEVMMBvxMIKoZIzj0DAQcCAwSl1bx2B9u4j7IhGRGw0Fp+6TTfo42O+bl+tthj
Cu6S7g10x8BI87jVqqhzvecZtdrY9mgFAxV9moRDYcru39YOtCNKb2huIERvZSAo
Zm9yRUNDKSA8am9obkBleGFtbGUuY29tPoh/BBMTCAAnBQJUwwG/AhsDBQkACTqA
BQsJCAcCBhUICQoLAgQWAgMBAh4BAheAAAoJEDH7/alfu/oYSaQA/AlgoAnPVyVH
Y38j/ebL7+bbe0ulfy8sj4W4TgWctj3TAQDlRAuT+bcTISTvjghtTkg/BP55LU19
xsHC1lc4M77zErhWBFTDAb8SCCqGSM49AwEHAgMEjD3FoH0SRJmBgMDbmgquHXQH
xoU6Yr3WVIfWLLkr+4l9bSDjmVnSCXMVR/NOpEmn1aN5alt1x/h7XPwofz7L0QMB
CAeIZwQYEwgADwUCVMMBvwIbDAUJAAk6gAAKCRAx+/2pX7v6GMYnAQDAL3ZaEG0d
Ih5iwZu8YtEGSvE6R1rpC/E5bONnoJY80gEAjFkcOoUOHtOYRRNNMOK5pBUOG21m
Gqfn1eJRB5Vgh5E=
=RME9
-----END PGP PUBLIC KEY BLOCK-----
```

„Åì„Çå„Çí [pgpdump] „ÅßË¶ã„Å¶„Åø„Çã„Å®

```shell
C:>gpg --armor --export john@examle.com | pgpdump
Old: Public Key Packet(tag 6)(82 bytes)
        Ver 4 - new
        Public key creation time - Sat Jan 24 11:21:51 Êù±‰∫¨ (Ê®ôÊ∫ñÊôÇ) 2015
        Pub alg - Reserved for ECDSA(pub 19)
        Unknown public key(pub 19)
Old: User ID Packet(tag 13)(35 bytes)
        User ID - John Doe (forECC) <john@examle.com>
Old: Signature Packet(tag 2)(127 bytes)
        Ver 4 - new
        Sig type - Positive certification of a User ID and Public Key packet(0x13).
        Pub alg - Reserved for ECDSA(pub 19)
        Hash alg - SHA256(hash 8)
        Hashed Sub: signature creation time(sub 2)(4 bytes)
                Time - Sat Jan 24 11:21:51 Êù±‰∫¨ (Ê®ôÊ∫ñÊôÇ) 2015
        Hashed Sub: key flags(sub 27)(1 bytes)
                Flag - This key may be used to certify other keys
                Flag - This key may be used to sign data
        Hashed Sub: key expiration time(sub 9)(4 bytes)
                Time - Sat Jan 31 11:21:51 Êù±‰∫¨ (Ê®ôÊ∫ñÊôÇ) 2015
        Hashed Sub: preferred symmetric algorithms(sub 11)(4 bytes)
                Sym alg - AES with 256-bit key(sym 9)
                Sym alg - AES with 192-bit key(sym 8)
                Sym alg - AES with 128-bit key(sym 7)
                Sym alg - Triple-DES(sym 2)
        Hashed Sub: preferred hash algorithms(sub 21)(5 bytes)
                Hash alg - SHA256(hash 8)
                Hash alg - SHA384(hash 9)
                Hash alg - SHA512(hash 10)
                Hash alg - SHA224(hash 11)
                Hash alg - SHA1(hash 2)
        Hashed Sub: preferred compression algorithms(sub 22)(3 bytes)
                Comp alg - ZLIB <RFC1950>(comp 2)
                Comp alg - BZip2(comp 3)
                Comp alg - ZIP <RFC1951>(comp 1)
        Hashed Sub: features(sub 30)(1 bytes)
                Flag - Modification detection (packets 18 and 19)
        Hashed Sub: key server preferences(sub 23)(1 bytes)
                Flag - No-modify
        Sub: issuer key ID(sub 16)(8 bytes)
                Key ID - 0x31FBFDA95FBBFA18
        Hash left 2 bytes - 49 a4
        Unknown signature(pub 19)
Old: Public Subkey Packet(tag 14)(86 bytes)
        Ver 4 - new
        Public key creation time - Sat Jan 24 11:21:51 Êù±‰∫¨ (Ê®ôÊ∫ñÊôÇ) 2015
        Pub alg - Reserved for Elliptic Curve(pub 18)
        Unknown public key(pub 18)
Old: Signature Packet(tag 2)(103 bytes)
        Ver 4 - new
        Sig type - Subkey Binding Signature(0x18).
        Pub alg - Reserved for ECDSA(pub 19)
        Hash alg - SHA256(hash 8)
        Hashed Sub: signature creation time(sub 2)(4 bytes)
                Time - Sat Jan 24 11:21:51 Êù±‰∫¨ (Ê®ôÊ∫ñÊôÇ) 2015
        Hashed Sub: key flags(sub 27)(1 bytes)
                Flag - This key may be used to encrypt communications
                Flag - This key may be used to encrypt storage
        Hashed Sub: key expiration time(sub 9)(4 bytes)
                Time - Sat Jan 31 11:21:51 Êù±‰∫¨ (Ê®ôÊ∫ñÊôÇ) 2015
        Sub: issuer key ID(sub 16)(8 bytes)
                Key ID - 0x31FBFDA95FBBFA18
        Hash left 2 bytes - c6 27
        Unknown signature(pub 19)
```

„Å®„Å™„Çã„ÄÇ
‰∏ªÈçµÔºàÁΩ≤ÂêçÈçµÔºâ„Åå ECDSA (pub19)ÔºåÂâØÈçµÔºàÊöóÂè∑ÈçµÔºâ„Åå ECDH (pub18) „Å´„Å™„Å£„Å¶„ÅÑ„Çã„ÅÆ„Åå„ÅäÂàÜ„Åã„Çä„Å†„Çç„ÅÜ„Åã„ÄÇ

Ôºà[pgpdump] „ÅØ„Åæ„Å† [RFC6637] „Å´ÂØæÂøú„Åó„Å¶„ÅÑ„Å™„ÅÑ„ÅÆ„Åß‰∏äÊâã„Åè dump „Åß„Åç„Å¶„Å™„ÅÑ„Åå„ÅîÂÆπËµ¶„ÄÇ
„Å°„Å™„Åø„Å´ Windows Áî®„ÅÆ„Éê„Ç§„Éä„É™„ÅØ[ÁßÅ„ÅÆ„Çµ„Ç§„Éà„Å´ÁΩÆ„ÅÑ„Å¶„ÅÇ„Çã](http://www.baldanders.info/spiegel/archive/pgpdump/)„ÅÆ„ÅßÔºåÊòØÈùû„Å©„ÅÜ„ÅûÔºâ

ÂâØÈçµ„ÇíÂê´„ÇÅ„ÅüÈõªÂ≠êÊåáÁ¥ã„ÇíË¶ã„Åü„ÅÑ„Å®„Åç„ÅØ `--fingerprint` „ÇíÈáç„Å≠„Å¶ÊåáÂÆö„Åô„Çã„Å®„Çà„ÅÑ„ÄÇ

```shell
C:>gpg --fingerprint --fingerprint john@examle.com
pub   nistp256/5FBBFA18 2015-01-24 [expires: 2015-01-31]
      Key fingerprint = 8B20 19D4 33A7 729E 5BFE  5779 31FB FDA9 5FBB FA18
uid       [ultimate] John Doe (forECC) <john@examle.com>
sub   nistp256/252C4D79 2015-01-24 nistp256 [expires: 2015-01-31]
      Key fingerprint = 8F2F D10A 4D10 BF69 1D1D  8086 EE06 6BFE 252C 4D79
```

„Éá„Éº„Çø„Çí„ÇÑ„Çä„Å®„Çä„Åô„ÇãÁõ∏Êâã„Å´Ê∏°„ÅôÂÖ¨ÈñãÈçµ„ÅØ `--export` „ÅßÂá∫Âäõ„Åó„Åü„ÇÇ„ÅÆ„ÇíÊ∏°„Åô„ÄÇ
„Åæ„ÅüÂÖ¨ÈñãÈçµ„Çµ„Éº„Éê„Å´Èçµ„ÇíÈÄÅ„ÇãÂ†¥Âêà„ÅØ `--send-keys` „Ç™„Éó„Ç∑„Éß„É≥„Çí‰Ωø„ÅÜ„ÄÇ
Ôºà`--send-keys` „Ç™„Éó„Ç∑„Éß„É≥„Çí‰Ωø„ÅÜÈöõ„ÅØ john@examle.com „Å™„Å©„ÅÆ„É¶„Éº„Ç∂ID„Åß„ÅØ„Å™„Åè 0x5FBBFA18 „Å™„Å©„ÅÆÈçµID„ÇíÊåáÂÆö„Åô„ÇãÔºâ

```shell
C:>gpg --send-keys 0x5FBBFA18
gpg: sending key 5FBBFA18 to hkp server keys.gnupg.net

C:>
```

Èçµ„Çµ„Éº„Éê„Åã„ÇâÂÖ¨ÈñãÈçµ„ÇíÂèñÂæó„Åô„ÇãÈöõ„ÅØ `--search-keys` „Åæ„Åü„ÅØ `--recv-keys` „Ç™„Éó„Ç∑„Éß„É≥„Çí‰Ωø„ÅÜ„ÄÇ
Ôºà`--recv-keys` „Ç™„Éó„Ç∑„Éß„É≥„Çí‰Ωø„ÅÜÈöõ„ÇÇÈçµID„ÇíÊåáÂÆö„Åô„Çã„ÄÇ
„ÅÇ„Çâ„Åã„Åò„ÇÅÈçµID„Åå„Çè„Åã„Çâ„Å™„ÅÑÂ†¥Âêà„ÅØ `--search-keys` „Åß„É¶„Éº„Ç∂ID„ÇíÊåáÂÆö„Åó„Å¶Ê§úÁ¥¢„Åß„Åç„ÇãÔºâ

```shell
C:>gpg --search-keys john@examle.com
gpg: data source: http://79.143.214.216:11371
(1)     John Doe (forECC) <john@examle.com>
          256 bit ECDSA key 5FBBFA18, created: 2015-01-24
Keys 1-1 of 1 for "john@examle.com".  Enter number(s), N)ext, or Q)uit > q

C:>gpg --recv-keys 0x5FBBFA18
gpg: key 5FBBFA18: "John Doe (forECC) <john@examle.com>" not changed
gpg: Total number processed: 1
gpg:              unchanged: 1

C:>
```

## ÈõªÂ≠êÁΩ≤Âêç

ÊúÄÂàù„Å´ÈõªÂ≠êÁΩ≤Âêç„ÅÆÂØæË±°„Å®„Å™„Çã„ÉÜ„Ç≠„Çπ„Éà„Éï„Ç°„Ç§„É´„ÇíÁî®ÊÑè„Åô„Çã„ÄÇ

```shell
C:>echo Hello World! > hello.txt
```

‰ª•ÈôçÔºå„Åì„ÅÆ„Éï„Ç°„Ç§„É´„Å´ÂØæ„Åó„Å¶ÁΩ≤Âêç„ÇíË°å„ÅÜ„ÄÇ

### „ÇØ„É™„Ç¢ÁΩ≤Âêç

„Åæ„Åö„ÅØ„ÇØ„É™„Ç¢ÁΩ≤Âêç„Åã„Çâ„ÄÇ

```shell
C:>gpg --clearsign --local-user john@examle.com hello.txt
```

hello.txt „ÅÆÁΩ≤ÂêçÁµêÊûú„Åå hello.txt.asc „Å´Âá∫Âäõ„Åï„Çå„Çã„ÄÇ
hello.txt.asc „ÅÆÂÜÖÂÆπ„ÅØ‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å´„Å™„Çã„ÄÇ

```shell
C:>type hello.txt.asc
-----BEGIN PGP SIGNED MESSAGE-----
Hash: SHA256

Hello World! 
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2

iF4EARMIAAYFAlTDCN8ACgkQMfv9qV+7+hg2HwEA6h2iFFuCBv3VrsSf2BREQaT1
T1ZprZqwRPOjiLJg9AwA/ArTwCPz7c2vmxlv7sRlRLUI6CdsOqhuO1KfYXrq7idI
=ZOTN
-----END PGP SIGNATURE-----
```

Ôºàtype „ÅØ„Ç≥„Éû„É≥„Éâ„Éó„É≠„É≥„Éó„Éà„ÅÆÁµÑËæº„Åø„Ç≥„Éû„É≥„Éâ„Åß UNIX Á≥ª„ÅÆ cat „Ç≥„Éû„É≥„Éâ„Å®ÂêåÁ≠âÔºâ

„Åì„ÅÆ„Çà„ÅÜ„Å´„ÇØ„É™„Ç¢ÁΩ≤Âêç„Åß„ÅØÂÖÉ„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„Å®ÈõªÂ≠êÁΩ≤Âêç„Åå‰∏Ä‰Ωì„Å´„Å™„Å£„Å¶„ÅÑ„Çã„ÄÇ
ÁΩ≤ÂêçËÄÖ„ÅØ hello.txt.asc „ÅÆÂÜÖÂÆπ„ÇíÁõ∏Êâã„Å´ÈÄÅ„Çå„Å∞„Çà„ÅÑ„ÄÇ

„Åì„ÅÆÁΩ≤Âêç„ÅÆ [pgpdump] „Çí„Å®„Å£„Å¶„Åø„Çã„ÄÇ

```shell
C:>pgpdump hello.txt.asc
Old: Signature Packet(tag 2)(94 bytes)
        Ver 4 - new
        Sig type - Signature of a canonical text document(0x01).
        Pub alg - Reserved for ECDSA(pub 19)
        Hash alg - SHA256(hash 8)
        Hashed Sub: signature creation time(sub 2)(4 bytes)
                Time - Sat Jan 24 11:52:15 Êù±‰∫¨ (Ê®ôÊ∫ñÊôÇ) 2015
        Sub: issuer key ID(sub 16)(8 bytes)
                Key ID - 0x31FBFDA95FBBFA18
        Hash left 2 bytes - 36 1f
        Unknown signature(pub 19)
```

„Åì„ÅÆ„Çà„ÅÜ„Å´ÈõªÂ≠êÁΩ≤Âêç„Å´„ÅØÊôÇÂàªÊÉÖÂ†±„ÇÇÂê´„Åæ„Çå„Å¶„ÅÑ„Çã„Åì„Å®„Åå„ÅäÂàÜ„Åã„Çä„Å†„Çç„ÅÜ„ÄÇ

„Åì„ÅÆÁΩ≤Âêç„ÇíÊ§úË®º„Åó„Å¶„Åø„Çã„ÄÇ
ÁΩ≤Âêç„ÅÆÊ§úË®º„Å´„ÅØ `--verify` „Çí‰Ωø„ÅÜ„ÄÇ

```shell
C:>gpg --verify hello.txt.asc
gpg: Signature made 01/24/15 11:52:15 Êù±‰∫¨ (Ê®ôÊ∫ñÊôÇ) using ECDSA key ID 5FBBFA18
gpg: Good signature from "John Doe (forECC) <john@examle.com>" [ultimate]
gpg: WARNING: not a detached signature; file 'hello.txt' was NOT verified!
```

„ÇØ„É™„Ç¢ÁΩ≤Âêç„ÅÆÂ†¥Âêà„ÅØÊúÄÂæå„ÅÆ WARNING „ÅØÊ∞ó„Å´„Åó„Å™„Åè„Å¶„ÇÇ„Çà„ÅÑ„ÄÇ
Ê§úË®º„ÅØ `--decrypt` „Ç™„Éó„Ç∑„Éß„É≥„Åß„ÇÇÂèØËÉΩ„Å†„ÅåÁµêÊûú„Åå„Å°„Çá„Å£„Å®Áï∞„Å™„Çã„ÄÇ

```shell
C:>gpg --decrypt hello.txt.asc
Hello World!
gpg: Signature made 01/24/15 11:52:15 Êù±‰∫¨ (Ê®ôÊ∫ñÊôÇ) using ECDSA key ID 5FBBFA18
gpg: Good signature from "John Doe (forECC) <john@examle.com>" [ultimate]
```

ÁΩ≤ÂêçÂØæË±°„ÅÆ„ÉÜ„Ç≠„Çπ„Éà„ÅåË°®Á§∫„Åï„Çå„Çã„ÅÆ„Åß„Åì„Å°„Çâ„ÅÆ„Åª„ÅÜ„Åå‰æøÂà©„Åã„Å™„ÄÇ

### ÂàÜÈõ¢ÁΩ≤Âêç

ÂÖÉ„ÅÆ„Éï„Ç°„Ç§„É´„Å®ÁΩ≤Âêç„ÇíÂàÜ„Åë„Åü„ÅÑ„Å®„Åç„ÅØÂàÜÈõ¢ÁΩ≤Âêç„Å´„Åô„Çã„ÄÇ

```shell
C:>gpg --detach-sign --local-user john@examle.com hello.txt
```

ÁΩ≤Âêç„ÅØ hello.txt.sig „Å´Âá∫Âäõ„Åï„Çå„Çã„ÄÇ

```shell
C:>gpg --armor --detach-sign --local-user john@examle.com hello.txt
```

`--armor` „Ç™„Éó„Ç∑„Éß„É≥„Çí‰ªò„Åë„ÅüÂ†¥Âêà„ÅØÔºåÁΩ≤Âêç„Åå hello.txt.asc „Å´Âá∫Âäõ„Åï„Çå„Çã„ÄÇ
hello.txt.sig „Å® hello.txt.asc „ÅÆÈÅï„ÅÑ„ÅØÔºåÂâçËÄÖ„Åå„Éê„Ç§„Éä„É™„Éï„Ç°„Ç§„É´„ÅßÂæåËÄÖ„Åå„ÉÜ„Ç≠„Çπ„Éà„Éï„Ç°„Ç§„É´„Åß„ÅÇ„Çã„ÄÇ

hello.txt.asc „ÅÆ‰∏≠Ë∫´„ÅØ„Åì„Çì„Å™ÊÑü„Åò„ÄÇ

```shell
C:>type hello.txt.asc
-----BEGIN PGP SIGNATURE-----
Version: GnuPG v2

iF4EABMIAAYFAlTDHMMACgkQMfv9qV+7+hhp5wD/b1TzfX0hPO2QH9bWjRFPnG4s
IAU+nzN9WSNurIskSYYBAMJ8WxSA/3udJe2g+h8fnl/XGk7qapqx6xTmCjhaUP4S
=LJYe
-----END PGP SIGNATURE-----
```

ÁΩ≤ÂêçÈÉ®ÂàÜ„Å†„Åë„ÅåÂá∫Âäõ„Åï„Çå„Å¶„ÅÑ„Çã„ÅÆ„Åå„ÅäÂàÜ„Åã„Çä„Å†„Çç„ÅÜ„Åã„ÄÇ
„Åì„ÅÆÁΩ≤Âêç„ÅÆ [pgpdump] „Çí„Å®„Å£„Å¶„Åø„Çã„Å®

```shell
C:>pgpdump hello.txt.asc
Old: Signature Packet(tag 2)(94 bytes)
        Ver 4 - new
        Sig type - Signature of a binary document(0x00).
        Pub alg - Reserved for ECDSA(pub 19)
        Hash alg - SHA256(hash 8)
        Hashed Sub: signature creation time(sub 2)(4 bytes)
                Time - Sat Jan 24 13:17:07 Êù±‰∫¨ (Ê®ôÊ∫ñÊôÇ) 2015
        Sub: issuer key ID(sub 16)(8 bytes)
                Key ID - 0x31FBFDA95FBBFA18
        Hash left 2 bytes - 69 e7
        Unknown signature(pub 19)
```

„Å®„Å™„Çã„ÄÇ

ÈõªÂ≠êÁΩ≤Âêç„ÇíÊ§úË®º„Åô„Çã„Å´„ÅØÈõªÂ≠êÁΩ≤ÂêçÂØæË±°„ÅÆ hello.txt „Å® hello.txt.ascÔºà„Åæ„Åü„ÅØ hello.txt.sigÔºâ„ÇíÂêå„Åò„Éï„Ç©„É´„ÉÄ„Å´„Åä„ÅÑ„Å¶

```shell
C:>gpg --verify hello.txt.asc
gpg: assuming signed data in 'hello.txt'
gpg: Signature made 01/24/15 13:17:07 Êù±‰∫¨ (Ê®ôÊ∫ñÊôÇ) using ECDSA key ID 5FBBFA18
gpg: Good signature from "John Doe (forECC) <john@examle.com>" [ultimate]
```

„Å®„Åô„ÇãÔºàÁΩ≤Âêç„Éï„Ç°„Ç§„É´„ÅÆ„Éï„Ç°„Ç§„É´Âêç„Åã„ÇâÁΩ≤ÂêçÂØæË±°„ÅÆ„Éï„Ç°„Ç§„É´Âêç„ÇíÊé®Ê∏¨„Åó„Å¶„Åè„Çå„ÇãÔºâ„ÄÇ
„ÅÇ„Çã„ÅÑ„ÅØÁΩ≤ÂêçÂØæË±°„ÇíÊòéÁ§∫„Åó„Å¶

```shell
C:>gpg --verify hello.txt.asc hello.txt
gpg: Signature made 01/24/15 13:17:07 Êù±‰∫¨ (Ê®ôÊ∫ñÊôÇ) using ECDSA key ID 5FBBFA18
gpg: Good signature from "John Doe (forECC) <john@examle.com>" [ultimate]
```

„Åß„ÇÇ„Çà„ÅÑ„ÄÇ

### „ÉÜ„Ç≠„Çπ„Éà„É¢„Éº„Éâ„Å®„Éê„Ç§„Éä„É™„É¢„Éº„Éâ

[GnuPG] „ÅÆÈõªÂ≠êÁΩ≤Âêç„Å´„ÅØ„Äå„ÉÜ„Ç≠„Çπ„Éà„É¢„Éº„Éâ„Äç„Å®„Äå„Éê„Ç§„Éä„É™„É¢„Éº„Éâ„Äç„Åå„ÅÇ„Çã„ÄÇ
„ÇØ„É™„Ç¢ÁΩ≤Âêç„ÅÆÈöõ„ÅØËá™ÂãïÁöÑ„Å´„ÉÜ„Ç≠„Çπ„Éà„É¢„Éº„Éâ„ÅßÁΩ≤Âêç„ÅóÔºåÂàÜÈõ¢ÁΩ≤Âêç„ÅÆÈöõ„ÅØËá™ÂãïÁöÑ„Å´„Éê„Ç§„Éä„É™„É¢„Éº„Éâ„ÅßÁΩ≤Âêç„Åô„Çã„ÄÇ
‰∏°ËÄÖ„ÅÆÈÅï„ÅÑ„ÅØÔºå„Éê„Ç§„Éä„É™„É¢„Éº„Éâ„Åß„ÅØÊñáÂ≠óÈÄö„ÇäÁΩ≤ÂêçÂØæË±°„Éá„Éº„Çø„Çí„Éê„Ç§„Éä„É™„Éá„Éº„Çø„Å®„Åó„Å¶Êâ±„ÅÜ„ÅÆ„Å´ÂØæ„ÅóÔºå„ÉÜ„Ç≠„Çπ„Éà„É¢„Éº„Éâ„Åß„ÅØÁΩ≤ÂêçÂØæË±°„Çí„ÉÜ„Ç≠„Çπ„Éà„Å®„Åø„Å™„ÅóÂÜÖÈÉ®„ÅßÊîπË°å„Ç≥„Éº„Éâ„Çí CRLF „Å´Â§âÊèõ„Åô„Çã„ÄÇ
„ÉÜ„Ç≠„Çπ„Éà„Éá„Éº„Çø„ÅØÔºåËª¢ÈÄÅ„Åô„ÇãÈöõ„Å´ÊîπË°å„Åå OS „Åî„Å®„ÅÆ„Ç≥„Éº„Éâ„Å´Êõ∏„ÅçÊèõ„Åà„Çâ„Çå„Çã„Åì„Å®„ÅåÂ§ö„ÅÑ„Åü„ÇÅÔºå„Åì„ÅÆ„Çà„ÅÜ„Å™‰ªïÁµÑ„Åø„ÅåÂøÖË¶Å„Å´„Å™„Çã„ÄÇ

ÂàÜÈõ¢ÁΩ≤Âêç„ÅÆÈöõÔºåÂº∑Âà∂ÁöÑ„Å´„ÉÜ„Ç≠„Çπ„Éà„É¢„Éº„Éâ„ÅßÁΩ≤Âêç„ÇíË°å„ÅÑ„Åü„ÅÑÂ†¥Âêà„ÅØ `--textmode` „Ç™„Éó„Ç∑„Éß„É≥„Çí‰ªòÂä†„Åô„ÇãÔºà„É°„Éº„É´ÊöóÂè∑Âåñ„ÅÆ PGP/MIME „ÅßÂøÖË¶Å„Å™„Ç™„Éó„Ç∑„Éß„É≥Ôºâ„ÄÇ
‰∏ÄÊñπÔºå `--textmode` „ÇíÊâì„Å°Ê∂à„Åô„Ç™„Éó„Ç∑„Éß„É≥„Å®„Åó„Å¶ `--no-textmode` „ÇÇÁî®ÊÑè„Åï„Çå„Å¶„ÅÑ„Çã„ÄÇ

## „Éá„Éº„Çø„ÅÆÊöóÂè∑Âåñ„Å®Âæ©Âè∑

Âºï„ÅçÁ∂ö„Åç hello.txt „Çí‰Ωø„Å£„Å¶Ôºå‰ªäÂ∫¶„ÅØÊöóÂè∑Âåñ„Å®Âæ©Âè∑„ÇíË°å„Å£„Å¶„Åø„Çã„ÄÇ

### ÊöóÂè∑Âåñ

hello.txt „ÇíÊöóÂè∑Âåñ„Åô„Çã„Å´„ÅØ `--encrypt` „Ç™„Éó„Ç∑„Éß„É≥„Çí‰Ωø„ÅÜ„ÄÇ

```shell
C:>gpg --encrypt --recipient john@examle.com hello.txt
```

ÊöóÂè∑Âåñ„Éá„Éº„Çø„ÅØ hello.txt.gpg „Å´Âá∫Âäõ„Åï„Çå„Çã„ÄÇ

```shell
C:>gpg --armor --encrypt --recipient john@examle.com hello.txt
```

`--armor` „Ç™„Éó„Ç∑„Éß„É≥„Çí‰ªò„Åë„ÅüÂ†¥Âêà„ÅØÔºåÊöóÂè∑Âåñ„Éá„Éº„Çø„Åå hello.txt.asc „Å´Âá∫Âäõ„Åï„Çå„Çã„ÄÇ
hello.txt.gpg „Å® hello.txt.asc „ÅÆÈÅï„ÅÑ„ÅØÔºåÂâçËÄÖ„Åå„Éê„Ç§„Éä„É™„Éï„Ç°„Ç§„É´„ÅßÂæåËÄÖ„Åå„ÉÜ„Ç≠„Çπ„Éà„Éï„Ç°„Ç§„É´„Åß„ÅÇ„Çã„ÄÇ

ÔºàÂàÜ„Åã„Çä„Å´„Åè„ÅÑ„Åã„ÇÇ„Åó„Çå„Å™„ÅÑ„ÅÆ„ÅßË£úË∂≥„Åó„Å¶„Åä„Åè„Å®ÔºåÊöóÂè∑Âåñ„ÅÆÈöõ„Å´„ÅØÊöóÂè∑Âåñ„Éá„Éº„Çø„ÅÆÂèóÂèñ‰∫∫„Çí `--recipient` „Ç™„Éó„Ç∑„Éß„É≥„ÅßÊåáÂÆö„Åô„Çã„ÄÇ
ÊöóÂè∑Âåñ„Éá„Éº„Çø„ÇíÂæ©Âè∑„Åß„Åç„Çã„ÅÆ„ÅØ `--recipient` „ÅßÊåáÂÆö„Åó„Åü„É¶„Éº„Ç∂„Å†„Åë„Åß„ÅÇ„Çã„ÄÇ
ÂèóÂèñ‰∫∫„ÅåË§áÊï∞„ÅÇ„ÇãÂ†¥Âêà„ÅØÂøÖË¶Å„Å™„Å†„ÅëÂèóÂèñ‰∫∫„ÇíÊåáÂÆö„Åó„Å™„Åë„Çå„Å∞„Å™„Çâ„Å™„ÅÑ„ÄÇ
„Åæ„ÅüÔºåËá™ÂàÜËá™Ë∫´„ÇÇÂæ©Âè∑ÂèØËÉΩ„Å´„Åô„Çã„Å´„ÅØÂèóÂèñ‰∫∫„Å´Ëá™ÂàÜ„ÇÇÂê´„ÇÅ„ÇãÂøÖË¶Å„Åå„ÅÇ„ÇãÔºâ

hello.txt.asc „ÅÆ‰∏≠Ë∫´„ÅØ„Åì„Çì„Å™ÊÑü„Åò„ÄÇ

```shell
C:>type hello.txt.asc
-----BEGIN PGP MESSAGE-----
Version: GnuPG v2

hH4D7gZr/iUsTXkSAgMEw+fXK68lKhn2J4DqfE9tymEiWuOtDPvZotWkMJrz7jRU
rqj2RqyKrjimT/Py7jBAYlsH5yvumpDUbx7XwyYhqzBK/oiinw6r8756iScyOLgG
dfysPNS6D0lkFapImtvBinsRdvsv7++wKakkdW1pEk3SUQFq5nHK//ax/z9xyHdF
iFH/4/LDlVfnKYDo5YZ86pj0BLOK+IjIkfdWe8utdUBI0Vo/Pywd5Da76fd3srgq
RAO+eOIFO0S22E5hpUMFdoo8ZA==
=5cN+
-----END PGP MESSAGE-----
```

„Åì„ÅÆÊöóÂè∑„Éá„Éº„Çø„ÅÆ [pgpdump] „Çí„Å®„Å£„Å¶„Åø„Çã„Å®

```shell
C:>pgpdump hello.txt.asc
Old: Public-Key Encrypted Session Key Packet(tag 1)(126 bytes)
        New version(3)
        Key ID - 0xEE066BFE252C4D79
        Pub alg - Reserved for Elliptic Curve(pub 18)
                unknown(pub 18)
                -> m = sym alg(1 byte) + checksum(2 bytes) + PKCS-1 block type 02
New: Symmetrically Encrypted and MDC Packet(tag 18)(81 bytes)
        Ver 1
        Encrypted data [sym alg is specified in pub-key encrypted session key]
                (plain text + MDC SHA1(20 bytes))
```

„Å®„Å™„Çã„ÄÇ

### ÊöóÂè∑Âåñ„Éá„Éº„Çø„ÅÆÂæ©Âè∑

Âæ©Âè∑„Å´„ÅØ `--decrypt` „Ç™„Éó„Ç∑„Éß„É≥„Çí‰Ωø„ÅÜ„ÄÇ

```shell
C:>gpg --output hello.txt.out --decrypt hello.txt.asc
gpg: encrypted with 256-bit ECDH key, ID 252C4D79, created 2015-01-24
      "John Doe (forECC) <john@examle.com>"
```

**Ê≥®ÊÑè**

[GnuPG] „Åß„ÅØÂæ©Âè∑ÁµêÊûú„ÇíÊ®ôÊ∫ñÂá∫Âäõ„Å´Âá∫Âäõ„Åô„Çã„ÄÇ
Linux „Å™„Å©„ÅÆ UNIX Á≥ª„ÅÆ shell „Åß„ÅØÂæ©Âè∑ÁµêÊûú„Çí„Éï„Ç°„Ç§„É´„Å´„É™„ÉÄ„Ç§„É¨„ÇØ„Éà„Åô„Çã„Å™„ÇäÊ¨°„ÅÆÂá¶ÁêÜ„Å´„Éë„Ç§„Éó„Åô„Çã„Å™„Çä„Åß„Åç„Çã„ÅåÔºå Windows „Åß„ÅØ„Éá„Éº„Çø„ÇíÊ®ôÊ∫ñÂá∫Âäõ„Å´Âá∫Âäõ„Åô„Çã„Å®ÊîπË°å„Ç≥„Éº„Éâ„ÇíËá™ÂãïÂ§âÊèõÔºàLF‚ÜíCRLF „Å™„Å©Ôºâ„Åó„Å¶„Åó„Åæ„ÅÜ„Ç¢„É¨„Å™‰ªïÊßò„Å´„Å™„Å£„Å¶„ÅÑ„Çã„Åü„ÇÅ„Éá„Éº„Çø„ÅÆÂÜÖÂÆπ„ÅåÂ§â„Çè„Å£„Å¶„Åó„Åæ„ÅÜ„ÄÇ
„Åì„ÅÆ„Åü„ÇÅÔºå Windows „ÅßÊöóÂè∑Âåñ„Éá„Éº„Çø„ÇíÂæ©Âè∑„Åô„ÇãÈöõ„Å´„ÅØÂøÖ„Åö `--output` „Ç™„Éó„Ç∑„Éß„É≥„ÅßÂá∫ÂäõÂÖà„Éï„Ç°„Ç§„É´„ÇíÊåáÂÆö„Åô„Çã„Åì„Å®„ÄÇ

### ÊöóÂè∑ÂåñÔºãÈõªÂ≠êÁΩ≤Âêç

[GnuPG] „Åß„ÅØÊöóÂè∑Âåñ„Å®ÈõªÂ≠êÁΩ≤Âêç„ÇíÂêåÊôÇ„Å´Ë°å„ÅÜ„Åì„Å®„Åå„Åß„Åç„Çã„ÄÇ

```shell
C:>gpg --armor --sign --encrypt --recipient alice@examle.com --local-user john@examle.com hello.txt
```

„Åì„Çå„ÇíÂèóÂèñ‰∫∫„ÅÆ alice@examle.com „ÅåÂæ©Âè∑„Åô„Çã„Å®

```shell
C:>gpg --output hello.txt.out --decrypt hello.txt.asc
gpg: encrypted with 3072-bit ELG key, ID 54D7887B, created 2015-01-24
      "Alice (DEMO) <alice@examle.com>"
gpg: Signature made 01/24/15 15:15:40 Êù±‰∫¨ (Ê®ôÊ∫ñÊôÇ) using ECDSA key ID 5FBBFA18
gpg: Good signature from "John Doe (forECC) <john@examle.com>" [  full  ]
```

„Å®„Å™„ÇäÔºåÂæ©Âè∑„Å®ÁΩ≤Âêç„ÅÆÊ§úË®º„ÇíÂêåÊôÇ„Å´Ë°å„ÅÜ„ÄÇ

## Èçµ„ÅÆÁ†¥Ê£Ñ

ÁîüÊàê„Åó„ÅüÈçµ„ÇíÁ†¥Ê£Ñ„Åó„Å™„Åë„Çå„Å∞„Å™„Çâ„Å™„ÅÑ„Åì„Å®„Åå„ÅÇ„Çã„ÄÇ
‰æã„Åà„Å∞ÊöóÂè∑„Ç¢„É´„Ç¥„É™„Ç∫„É†„ÅåÂç±ÊÆÜÂåñ„Åó„Å¶‰Ωø„Åà„Å™„Åè„Å™„Å£„Åü„Å®„ÅãÔºåÁßòÂØÜÈçµ„Åå NSA „Å´Áõó„Çâ„Çå„Å¶„Åó„Åæ„Å£„Åü„Å®„ÅãÔºå„Å™„Å©„Åß„ÅÇ„Çã„ÄÇ

OpenPGP „Åß„ÅØÔºå„ÅÇ„Çâ„Åã„Åò„ÇÅ„ÄåÂ§±ÂäπË®ºÊòéÊõ∏„Äç„Çí‰ΩúÊàê„ÅóÔºåÂ§±ÂäπË®ºÊòéÊõ∏„ÇíË™≠„ÅøËæº„ÇÄ„Åì„Å®„ÅßÈçµ„ÇíÁ†¥Ê£Ñ„Åß„Åç„Çã„ÄÇ

[GnuPG] modern version „Åß„ÅØÔºåÈçµ„ÅÆÁîüÊàêÊôÇ„Å´Â§±ÂäπË®ºÊòéÊõ∏„ÇÇËá™Âãï„ÅßÁîüÊàê„Åó„Å¶„Åè„Çå„Çã„ÄÇ
Â§±ÂäπË®ºÊòéÊõ∏„ÅØÈçµÊùü„ÅÆ„ÅÇ„Çã„Éï„Ç©„É´„ÉÄ„ÅÆ openpgp-revocs.d „Éï„Ç©„É´„ÉÄÂÜÖ„Å´‰ΩúÊàê„Åï„Çå„Å¶„ÅÑ„Çã„ÄÇ

Â§±ÂäπË®ºÊòéÊõ∏„ÅÆ„Éï„Ç°„Ç§„É´Âêç„ÅØ „ÄàÈõªÂ≠êÊåáÁ¥ã„Äâ.rev„ÄÇ
„Åü„Å®„Åà„Å∞ john@examle.com „ÅÆÈçµ„ÅÆÈõªÂ≠êÊåáÁ¥ã„Åå

```shell
C:>gpg --fingerprint john@examle.com
pub   nistp256/5FBBFA18 2015-01-24 [expires: 2015-01-31]
      Key fingerprint = 8B20 19D4 33A7 729E 5BFE  5779 31FB FDA9 5FBB FA18
uid       [ultimate] John Doe (forECC) <john@examle.com>
sub   nistp256/252C4D79 2015-01-24 nistp256 [expires: 2015-01-31]
```

„Å™„Çâ openpgp-revocs.d/8B2019D433A7729E5BFE577931FBFDA95FBBFA18.rev „ÅåÂ§±ÂäπË®ºÊòéÊõ∏„Åß„ÅÇ„Çã„ÄÇ

Â§±ÂäπË®ºÊòéÊõ∏„ÅÆ‰∏≠Ë∫´„ÅØ‰ª•‰∏ã„ÅÆ„Çà„ÅÜ„Å´„Å™„Å£„Å¶„ÅÑ„Çã„ÄÇ

```shell
C:>type 8B2019D433A7729E5BFE577931FBFDA95FBBFA18.rev
This is a revocation certificate for the OpenPGP key:

pub  nistp256/5FBBFA18 2015-01-24
      Key fingerprint = 8B20 19D4 33A7 729E 5BFE  5779 31FB FDA9 5FBB FA18
uid                  John Doe (forECC) <john@examle.com>

Use it to revoke this key in case of a compromise or loss of
the secret key.  However, if the secret key is still accessible,
it is better to generate a new revocation certificate and give
a reason for the revocation.

To avoid an accidental use of this file, a colon has been inserted
before the 5 dashes below.  Remove this colon with a text editor
before making use of this revocation certificate.

:-----BEGIN PGP PUBLIC KEY BLOCK-----
Version: GnuPG v2
Comment: This is a revocation certificate

iGEEIBMIAAkFAlTDAcwCHQAACgkQMfv9qV+7+hjjeQD/eLVZ8NMqeMFxrLQ+LFVQ
wZnQZsIUhKvVQVw6RdC8j6QBAJSlJGF3YawIiYbPJ8MqqqB/7AbtiPQMX0YUsSqn
YimK
=lgOW
-----END PGP PUBLIC KEY BLOCK-----
```

`:-----BEGIN PGP PUBLIC KEY BLOCK-----` „ÅÆÂÖàÈ†≠„ÅÆ„Ç≥„É≠„É≥Ôºà:Ôºâ„ÇíÂ§ñ„Åô„Åì„Å®„ÅßÂ§±ÂäπË®ºÊòéÊõ∏„ÅåÊúâÂäπ„Å´„Å™„Çã„ÄÇ

„Å°„Å™„Åø„Å´„Åì„Çå„ÇíÔºà„Ç≥„É≠„É≥„ÇíÂ§ñ„Åó„Åü‰∏ä„ÅßÔºâ [pgpdump] „Åß„Åø„Çã„Å®

```shell
C:>pgpdump 8B2019D433A7729E5BFE577931FBFDA95FBBFA18.rev
Old: Signature Packet(tag 2)(97 bytes)
        Ver 4 - new
        Sig type - Key revocation signature(0x20).
        Pub alg - Reserved for ECDSA(pub 19)
        Hash alg - SHA256(hash 8)
        Hashed Sub: signature creation time(sub 2)(4 bytes)
                Time - Sat Jan 24 11:22:04 Êù±‰∫¨ (Ê®ôÊ∫ñÊôÇ) 2015
        Hashed Sub: reason for revocation(sub 29)(1 bytes)
                Reason - No reason specified
                Comment -
        Sub: issuer key ID(sub 16)(8 bytes)
                Key ID - 0x31FBFDA95FBBFA18
        Hash left 2 bytes - e3 79
        Unknown signature(pub 19)
```

„Å®„Å™„Å£„Å¶„ÅÑ„Çã„ÄÇ

Â§±ÂäπË®ºÊòéÊõ∏„ÇíË™≠„ÅøËæº„ÇÄ„Å´„ÅØ `--import` „Ç™„Éó„Ç∑„Éß„É≥„Çí‰Ωø„ÅÜ„ÄÇ

```shell
C:>gpg --import 8B2019D433A7729E5BFE577931FBFDA95FBBFA18.rev
gpg: key 5FBBFA18: "John Doe (forECC) <john@examle.com>" revocation certificate imported
gpg: Total number processed: 1
gpg:    new key revocations: 1
gpg: 3 marginal(s) needed, 1 complete(s) needed, PGP trust model
gpg: Note: signatures using the MD5 algorithm are rejected
gpg: depth: 0  valid:  14  signed:  10  trust: 0-, 0q, 0n, 0m, 0f, 14u
gpg: depth: 1  valid:   8  signed:   4  trust: 4-, 0q, 0n, 3m, 1f, 0u
gpg: next trustdb check due at 2015-01-31

C:>gpg --fingerprint john@examle.com
pub   nistp256/5FBBFA18 2015-01-24 [revoked: 2015-01-24]
      Key fingerprint = 8B20 19D4 33A7 729E 5BFE  5779 31FB FDA9 5FBB FA18
uid       [ revoked] John Doe (forECC) <john@examle.com>
```

[pgpdump] „Åß„Åø„Çã„Å®

```shell
C:>gpg --armor --export john@examle.com | pgpdump
Old: Public Key Packet(tag 6)(82 bytes)
        Ver 4 - new
        Public key creation time - Sat Jan 24 11:21:51 Êù±‰∫¨ (Ê®ôÊ∫ñÊôÇ) 2015
        Pub alg - Reserved for ECDSA(pub 19)
        Unknown public key(pub 19)
Old: Signature Packet(tag 2)(97 bytes)
        Ver 4 - new
        Sig type - Key revocation signature(0x20).
        Pub alg - Reserved for ECDSA(pub 19)
        Hash alg - SHA256(hash 8)
        Hashed Sub: signature creation time(sub 2)(4 bytes)
                Time - Sat Jan 24 11:22:04 Êù±‰∫¨ (Ê®ôÊ∫ñÊôÇ) 2015
        Hashed Sub: reason for revocation(sub 29)(1 bytes)
                Reason - No reason specified
                Comment -
        Sub: issuer key ID(sub 16)(8 bytes)
                Key ID - 0x31FBFDA95FBBFA18
        Hash left 2 bytes - e3 79
        Unknown signature(pub 19)
Old: User ID Packet(tag 13)(35 bytes)
        User ID - John Doe (forECC) <john@examle.com>
Old: Signature Packet(tag 2)(127 bytes)
        Ver 4 - new
        Sig type - Positive certification of a User ID and Public Key packet(0x13).
        Pub alg - Reserved for ECDSA(pub 19)
        Hash alg - SHA256(hash 8)
        Hashed Sub: signature creation time(sub 2)(4 bytes)
                Time - Sat Jan 24 11:21:51 Êù±‰∫¨ (Ê®ôÊ∫ñÊôÇ) 2015
        Hashed Sub: key flags(sub 27)(1 bytes)
                Flag - This key may be used to certify other keys
                Flag - This key may be used to sign data
        Hashed Sub: key expiration time(sub 9)(4 bytes)
                Time - Sat Jan 31 11:21:51 Êù±‰∫¨ (Ê®ôÊ∫ñÊôÇ) 2015
        Hashed Sub: preferred symmetric algorithms(sub 11)(4 bytes)
                Sym alg - AES with 256-bit key(sym 9)
                Sym alg - AES with 192-bit key(sym 8)
                Sym alg - AES with 128-bit key(sym 7)
                Sym alg - Triple-DES(sym 2)
        Hashed Sub: preferred hash algorithms(sub 21)(5 bytes)
                Hash alg - SHA256(hash 8)
                Hash alg - SHA384(hash 9)
                Hash alg - SHA512(hash 10)
                Hash alg - SHA224(hash 11)
                Hash alg - SHA1(hash 2)
        Hashed Sub: preferred compression algorithms(sub 22)(3 bytes)
                Comp alg - ZLIB <RFC1950>(comp 2)
                Comp alg - BZip2(comp 3)
                Comp alg - ZIP <RFC1951>(comp 1)
        Hashed Sub: features(sub 30)(1 bytes)
                Flag - Modification detection (packets 18 and 19)
        Hashed Sub: key server preferences(sub 23)(1 bytes)
                Flag - No-modify
        Sub: issuer key ID(sub 16)(8 bytes)
                Key ID - 0x31FBFDA95FBBFA18
        Hash left 2 bytes - 49 a4
        Unknown signature(pub 19)
Old: Public Subkey Packet(tag 14)(86 bytes)
        Ver 4 - new
        Public key creation time - Sat Jan 24 11:21:51 Êù±‰∫¨ (Ê®ôÊ∫ñÊôÇ) 2015
        Pub alg - Reserved for Elliptic Curve(pub 18)
        Unknown public key(pub 18)
Old: Signature Packet(tag 2)(103 bytes)
        Ver 4 - new
        Sig type - Subkey Binding Signature(0x18).
        Pub alg - Reserved for ECDSA(pub 19)
        Hash alg - SHA256(hash 8)
        Hashed Sub: signature creation time(sub 2)(4 bytes)
                Time - Sat Jan 24 11:21:51 Êù±‰∫¨ (Ê®ôÊ∫ñÊôÇ) 2015
        Hashed Sub: key flags(sub 27)(1 bytes)
                Flag - This key may be used to encrypt communications
                Flag - This key may be used to encrypt storage
        Hashed Sub: key expiration time(sub 9)(4 bytes)
                Time - Sat Jan 31 11:21:51 Êù±‰∫¨ (Ê®ôÊ∫ñÊôÇ) 2015
        Sub: issuer key ID(sub 16)(8 bytes)
                Key ID - 0x31FBFDA95FBBFA18
        Hash left 2 bytes - c6 27
        Unknown signature(pub 19)
```

„Å®„Å™„Å£„Å¶„ÅÑ„Çã„ÄÇ
ÁΩ≤Âêç„Éë„Ç±„ÉÉ„ÉàÔºàtag 2Ôºâ„ÅÆ„Çø„Ç§„Éó„Åå ‚ÄúKey revocation signature(0x20).‚Äù „Å™„Å£„Å¶„ÅÑ„Çã„ÅÆ„Åå„ÅäÂàÜ„Åã„Çä„Å†„Çç„ÅÜ„Åã„ÄÇ

Èçµ„Çµ„Éº„Éê„Å´„ÅÇ„ÇãÂÖ¨ÈñãÈçµ„ÇíÁ†¥Ê£Ñ„Åô„Çã„Å´„ÅØÔºåÊâãÂÖÉ„ÅÆÈçµ„ÇíÁ†¥Ê£Ñ„Åó„Åü‰∏ä„ÅßÔºåÁ†¥Ê£Ñ„Åó„ÅüÈçµ„ÇíÈçµ„Çµ„Éº„Éê„Å´ÈÄÅ„Çã„ÄÇ

```shell
C:>gpg --send-keys 0x5FBBFA18
gpg: sending key 5FBBFA18 to hkp server keys.gnupg.net

C:>gpg --search-keys john@examle.com
gpg: data source: http://79.143.214.216:11371
(1)     John Doe (forECC) <john@examle.com>
          256 bit ECDSA key 5FBBFA18, created: 2015-01-24 (revoked)
Keys 1-1 of 1 for "john@examle.com".  Enter number(s), N)ext, or Q)uit >
```

Â§±ÂäπË®ºÊòéÊõ∏„ÅØ„ÅÑ„Åñ„Å®„ÅÑ„ÅÜ„Å®„Åç„ÅÆÊúÄÂæå„ÅÆÂàá„ÇäÊú≠„Å™„ÅÆ„ÅßÔºåÁÑ°„Åè„Åï„Å™„ÅÑ„Çà„ÅÜÂ§ß‰∫ã„Å´‰øùÁÆ°„Åó„Å¶„Åä„ÅÑ„Å¶Ê¨≤„Åó„ÅÑ„ÄÇ
Êòî„Å†„Å£„Åü„Çâ„Äå„Éï„É≠„ÉÉ„Éî„Éº„Å´„Ç≥„Éî„Éº„Äç„Å†„Å£„Åü„ÅÆ„Å†„ÅåÔºå‰ªä„ÅØ„Å©„ÅÜ„Å™„Çì„Å†„Çç„ÅÜ„ÄÇ
„ÇÑ„ÅØ„Çä CD-R „Åã DVD „Å´ÁÑº„Åè„ÅÆ„Åå„ÅÑ„ÅÑ„Å†„Çç„ÅÜ„Åã„ÄÇ

## GnuPG „Ç™„Éó„Ç∑„Éß„É≥‰∏ÄË¶ß

[GnuPG] „ÅÆ„Ç™„Éó„Ç∑„Éß„É≥„ÇÑÁ∞°Âçò„Å™‰Ωø„ÅÑÊñπ„ÅØ `--help` „Ç™„Éó„Ç∑„Éß„É≥„ÅßË¶ã„Çã„Åì„Å®„Åå„Åß„Åç„Çã„ÄÇ

```shell
C:>gpg --help
gpg (GnuPG) 2.1.1
libgcrypt 1.6.2
Copyright (C) 2014 Free Software Foundation, Inc.
License GPLv3+: GNU GPL version 3 or later <http://gnu.org/licenses/gpl.html>
This is free software: you are free to change and redistribute it.
There is NO WARRANTY, to the extent permitted by law.

Home: ********
Supported algorithms:
Pubkey: RSA, ELG, DSA, ECDH, ECDSA, EDDSA
Cipher: IDEA, 3DES, CAST5, BLOWFISH, AES, AES192, AES256, TWOFISH,
        CAMELLIA128, CAMELLIA192, CAMELLIA256
Hash: SHA1, RIPEMD160, SHA256, SHA384, SHA512, SHA224
Compression: Uncompressed, ZIP, ZLIB, BZIP2

Syntax: gpg [options] [files]
Sign, check, encrypt or decrypt
Default operation depends on the input data

Commands:

 -s, --sign                 make a signature
     --clearsign            make a clear text signature
 -b, --detach-sign          make a detached signature
 -e, --encrypt              encrypt data
 -c, --symmetric            encryption only with symmetric cipher
 -d, --decrypt              decrypt data (default)
     --verify               verify a signature
 -k, --list-keys            list keys
     --list-sigs            list keys and signatures
     --check-sigs           list and check key signatures
     --fingerprint          list keys and fingerprints
 -K, --list-secret-keys     list secret keys
     --gen-key              generate a new key pair
     --quick-gen-key        quickly generate a new key pair
     --full-gen-key         full featured key pair generation
     --gen-revoke           generate a revocation certificate
     --delete-keys          remove keys from the public keyring
     --delete-secret-keys   remove keys from the secret keyring
     --quick-sign-key       quickly sign a key
     --quick-lsign-key      quickly sign a key locally
     --sign-key             sign a key
     --lsign-key            sign a key locally
     --edit-key             sign or edit a key
     --passwd               change a passphrase
     --export               export keys
     --send-keys            export keys to a key server
     --recv-keys            import keys from a key server
     --search-keys          search for keys on a key server
     --refresh-keys         update all keys from a keyserver
     --import               import/merge keys
     --card-status          print the card status
     --card-edit            change data on a card
     --change-pin           change a card's PIN
     --update-trustdb       update the trust database
     --print-md             print message digests
     --server               run in server mode

Options:

 -a, --armor                create ascii armored output
 -r, --recipient USER-ID    encrypt for USER-ID
 -u, --local-user USER-ID   use USER-ID to sign or decrypt
 -z N                       set compress level to N (0 disables)
     --textmode             use canonical text mode
 -o, --output FILE          write output to FILE
 -v, --verbose              verbose
 -n, --dry-run              do not make any changes
 -i, --interactive          prompt before overwriting
     --openpgp              use strict OpenPGP behavior

(See the man page for a complete listing of all commands and options)

Examples:

 -se -r Bob [file]          sign and encrypt for user Bob
 --clearsign [file]         make a clear text signature
 --detach-sign [file]       make a detached signature
 --list-keys [names]        show keys
 --fingerprint [names]      show fingerprints

Please report bugs to <http://bugs.gnupg.org>.

C:>
```

„Åì„Åì„ÅßÁ¥π‰ªã„Åó„Åü„Ç™„Éó„Ç∑„Éß„É≥„Å´„Å§„ÅÑ„Å¶„ÅÑ„Åè„Å§„ÅãÁúÅÁï•Ë°®ÁèæÔºà`--sign --encrypt` ‚Üí `-se` „Å™„Å©Ôºâ„Åå„ÅÇ„Çã„ÅÆ„ÅßÂèÇËÄÉ„Å´„Åô„Çã„Å®„Çà„ÅÑ„ÄÇ
„Åæ„ÅüÔºåË©≥„Åó„ÅÑ‰Ωø„ÅÑÊñπ„Å´„Å§„ÅÑ„Å¶„ÅØ [Manual](https://www.gnupg.org/documentation/manuals.html) „ÇíË¶ã„Åü„Åª„ÅÜ„ÅåÂèÇËÄÉ„Å´„Å™„Çã„Åã„ÇÇ„Åó„Çå„Å™„ÅÑ„ÄÇ

