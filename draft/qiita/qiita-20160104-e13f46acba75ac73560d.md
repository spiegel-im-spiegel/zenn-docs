---
title: "NYAGOS 4.1.0_0  ã¨ Lua ã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«"
emoji: "ğŸ˜€"
type: "tech"
topics: [Lua,nyagos]
published: false
---
ï¼ˆã“ã®è¨˜äº‹ã¯[ãƒ–ãƒ­ã‚°è¨˜äº‹](http://text.baldanders.info/remark/2016/01/lua-module/)ã¨ã®ãƒãƒ«ãƒãƒã‚¹ãƒˆã§ã™ï¼‰

[NYAGOS] 4.1.0_0 ãŒãƒªãƒªãƒ¼ã‚¹ã•ã‚ŒãŸã€‚ä¸»ãªå¤‰æ›´ç‚¹ã¯ `ln` ã‚³ãƒãƒ³ãƒ‰ãŒè¿½åŠ ã•ã‚ŒãŸã“ã¨ã®ã‚ˆã†ã ã€‚

- [Release 4.1.0_0 Â· zetamatta/nyagos](https://github.com/zetamatta/nyagos/releases/tag/4.1.0_0)

ãŸã ï¼Œç§ã®å ´åˆã¯ã‚ˆã‚Šåˆ‡å®Ÿãªå•é¡ŒãŒã‚ã£ã¦ï¼Œ `-f` ã‚ªãƒ—ã‚·ãƒ§ãƒ³ã§ [Lua] ã®ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œã•ã›ãŸå ´åˆã« `module()` é–¢æ•°ãŒä½¿ãˆãªããªã£ãŸã€‚[Lua] ã¯ä¸æ¡ˆå†…ãªã®ã§çŸ¥ã‚‰ãªã‹ã£ãŸã®ã ãŒ `module()` é–¢æ•°ã¯ [Lua] 5.2 ã§ deprecated ã«ãªã£ã¦ã„ãŸã‚‰ã—ã„ã€‚é€†ã«ãªã‚“ã§ä»Šã¾ã§ä½¿ãˆã¦ãŸã®ã‹ã¯åˆ†ã‹ã‚‰ãªã„ã€‚

- [Luaã®ãƒ¢ã‚¸ãƒ¥ãƒ¼ãƒ«ã‚’ç©´ãŒç©ºãã¾ã§è¦‹ã¤ã‚ã¦ã¿ã‚‹ - ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°ã®é­”ç‰©](http://p-monster.hatenablog.com/entry/2013/02/13/205419)

`module()` é–¢æ•°ãŒä½¿ãˆãªã„ã®ã§ `require()` ã§å¤–éƒ¨ãƒ•ã‚¡ã‚¤ãƒ«ã‚’å‘¼ã³å‡ºã™ã¨ãƒ•ã‚¡ã‚¤ãƒ«å†…ã®è¨˜è¿°ãŒãã®ã¾ã¾å®Ÿè¡Œã•ã‚Œã‚‹ã€‚

ä»¥å‰ãªã‚‰ `module1.lua` ã«

```lua:module1.lua
module("module1", package.seeall)

function method1()
	return "Method 1"
end

function method2()
	return "Method 2"
end
```

ã¨å®šç¾©ã—ã¦ãŠã‘ã°

```lua:run1.lua
require("module1")

nyagos.write(module1.method1().."\n")
nyagos.write(module1.method2().."\n")
```

ã¨è¨˜è¿°ã§ããŸã€‚ã‚‚ã—åŒã˜ã‚ˆã†ã«æ©Ÿèƒ½ã•ã›ãŸã„ãªã‚‰ `module1.lua` ã‚’

```lua:module1.lua
module1 = {}

module1.method1 = function()
	return "Method 1"
end

module1.method2 = function()
	return "Method 2"
end
```

ã¨è¨˜è¿°ã™ã‚‹ã®ãŒä¸€ç•ªç°¡å˜ãªã‚ˆã†ã ã€‚ `module1` ã‚’é–¢æ•°ãƒ†ãƒ¼ãƒ–ãƒ«ã¨ã—ã¦å®šç¾©ã™ã‚‹ã‚ã‘ã ã€‚

ã‚ã‚‹ã„ã¯ `module1.lua` ã‚’

```lua:module1.lua
local module1 = {}

module1.method1 = function()
	return "Method 1"
end

module1.method2 = function()
	return "Method 2"
end

return module1
```

ã¨ã—ã¦ãŠã„ã¦ï¼Œå‘¼ã³å‡ºã—å´ã‚’

```lua:run2.lua
local module1 = require("module1")

nyagos.write(module1.method1().."\n")
nyagos.write(module1.method2().."\n")
```

ã¨ã™ã‚Œã°ã‚°ãƒ­ãƒ¼ãƒãƒ«é ˜åŸŸã‚’æ±šã•ãšã«æ¸ˆã‚€ã ã‚ã†ã€‚

- [Lua Unofficial FAQ (uFAQ)](http://www.luafaq.org/) : â€œ1.37.2 Life after module()?â€ ã®é …ãŒå‚è€ƒã«ãªã‚‹
- [c++ - Using the 'module' function in Lua 5.2? - Stack Overflow](http://stackoverflow.com/questions/16849422/using-the-module-function-in-lua-5-2)
- [ãã®ï¼” ä¼šå¾—å¿…é ˆï¼Luaã®çœŸé«„ã€Œãƒ†ãƒ¼ãƒ–ãƒ«ã€](http://marupeke296.com/LUA_No4_Table.html)
- [ç¬¬ 4 å›: Lua ã®ã‚ªãƒ–ã‚¸ã‚§ã‚¯ãƒˆæŒ‡å‘ã«ã¤ã„ã¦ç´¹ä»‹ã™ã‚‹ â€” WTOPIA v1.0 documentation](http://www.ie.u-ryukyu.ac.jp/~e085739/lua.hajime.4.html)

[NYAGOS]: http://www.nyaos.org/index.cgi?p=NYAGOS "NYAOS.ORG - NYAGOS"
[Lua]: http://www.lua.org/ "The Programming Language Lua"

